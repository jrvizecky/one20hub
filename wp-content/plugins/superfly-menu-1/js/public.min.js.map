{"version":3,"sources":["superfly-menu.js"],"names":["SF_DEBUG","window","transitions","transition","WebkitTransition","MozTransition","OTransition","elem","document","createElement","t","style","transitionEnd","a","define","amd","exports","require","jQuery","b","c","preventDefault","event","remove","v","q","originalEvent","touches","toUpperCase","d","e","h","Event","x","trigger","target","isDefaultPrevented","indexOf","add","u","f","s","g","y","dx","w","dy","adx","Math","abs","ady","motionThreshold","clearTimeout","k","orientation","direction","parentNode","call","this","timeStamp","Date","time","i","flickDuration","end","l","m","doubleTapInterval","j","n","navigator","userAgent","o","exec","p","r","Finger","pressDuration","setTimeout","each","split","fn","on","eval","parseInt","String","fromCharCode","toString","replace","RegExp","_T","rotate","deg","rad","parseFloat","PI","costheta","cos","sintheta","sin","$M","skew","radX","radY","tan","translate","scale","substr","length","fromString","$","attachStyles","body","type","test","styleSheet","cssText","innerText","innerHTML","getElementsByTagName","appendChild","write","getVendorPropertyName","prop","vendorProp","prefixes","div","prop_","charAt","deparam","query","pairs","keyValuePair","key","value","map","slice","decodeURIComponent","undefined","console","log","lh","location","href","triggered","hasClasses","classes","hasClass","addClasses","addClass","one","$win","$html","$body","originalWrite","opts","SF_Opts","prepend","SFM_template","alt_menu","LM","hideCustom","reset","customOpened","css","opacity","visibility","transProp","backgroundColor","defTranslationStr","$custom","data","find","removeClass","setupFont","wh","innerHeight","documentElement","offsetHeight","clientHeight","th","outerHeight","children","$links","$sidebar","space","line","min","item_padding","isMobile","fontSize","lineHeight","showSidebar","state","animTimer","setupSize","$rollback","$overlay","sidebar_behaviour","sidebar_style","not","el","shiftFixed","scrollTop","scrollLeft","hideSidebar","isIE","unshiftFixed","itemEventHandler","goToLink","$el","$a","$t","hr","blank","attr","hash","offset","top","stop","animate","open","fade","fadeOut","eventCancelTimeout","TIMEOUT_CONST","stopImmediatePropagation","clickTapEvent","currentEvent","closest","sub_type","eventFor","_cursor","cursor","dragging","cancel","$sub","$et","startPos","customWidth","calcWidth","customBg","$currCont","level","match","$sibs","siblings","_ww","ww","_wh","currLevel","is","first","MAX_WIDTH","html","slideUp","filter","slideDown","sums","sidebar_pos","width","ev","isIE9","height","innerWidth","init","cache","margin","headerHeight","$head","footerHeight","$socialbar","contentHeight","$cont","availableSpace","classesToAdd","classesToRemove","compactHeader","appVersion","bh","$offsetP","nu","oLeft","oTop","coords","newCSS","_b","transf","translation","parent","left","isFF","hide","right","bottom","show","isNaN","toChangeHor","toChangeVert","htmlMargins","newCss","populateSocialBarWith","social","name","hasOwnProperty","appendTo","attachSwipesHandler","startX","startY","startTime","moveX","moveY","bind","getTime","pageX","clientY","swipeDirection","finalY","finalX","SFM_is_mobile","mobile","$defmenu","push","width_panel_1","width_panel_2","width_panel_3","width_panel_4","bodyCss","$bodybg","$children","toLowerCase","bbg","backgroundImage","backgroundAttachment","backgroundSize","backgroundPosition","backgroundRepeat","backgroundOrigin","backgroundClip","last","position","menuOpts","search","addHomeLink","addHomeText","subMenuSupport","subMenuSelector","activeClassSelector","allowedTags","transitionDuration","extra","menuData","Menu","unique","build","$newMenu","clone","removeAttr","processDefMenu","hostname","pre","buildSubMenus","removeSubMenus","wrapInner","append","attachExtraTo","prependTo","siteBase","$menu","tags","$items","id","className","tag","trim","text","join","len","detectLevel","https","protocol","hidemob","img","icon","icon_color","LAIconManagerUtil","getSet","getIcon","md5","getIconClass","sline","chapter","before","content","bg","parents","toggleActiveClasses","toggleClass","events","viewsL","off","$fixed","mouseenter","sub_opening_type","opening_type","mouseleave","relatedTarget","togglers","submit","behaviour","bodyClasses","blur","ajaxComplete","test_mode","$cf7form","$form","wpcf7","initForm","cached","refill","getState","SFM_EVENT_DISPATCHED"],"mappings":"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","file":"public.min.js","sourcesContent":["var SF_DEBUG = true;\r\n\r\n;(function (window) {\r\n    var transitions = {\r\n            'transition': 'transitionend',\r\n            'WebkitTransition': 'webkitTransitionEnd',\r\n            'MozTransition': 'transitionend',\r\n            'OTransition': 'otransitionend'\r\n        },\r\n        elem = document.createElement('div');\r\n\r\n    for (var t in transitions) {\r\n        if (typeof elem.style[t] !== 'undefined') {\r\n            window.transitionEnd = transitions[t];\r\n            break;\r\n        }\r\n    }\r\n    if (!window.transitionEnd) window.transitionEnd = false;\r\n})(window);\r\n\r\n/*! jquery.finger - v0.1.4 - 2015-12-02\r\n * https://github.com/ngryman/jquery.finger\r\n * Copyright (c) 2015 Nicolas Gryman; Licensed MIT */\r\n!function (a) {\r\n    \"function\" == typeof define && define.amd ? define([\"jquery\"], a) : a(\"object\" == typeof exports ? require(\"jquery\") : jQuery)\r\n}(function (a) {\r\n    function b(c) {\r\n        c.preventDefault(), a.event.remove(v, \"click\", b)\r\n    }\r\n\r\n    function c(a, b) {\r\n        return (q ? b.originalEvent.touches[0] : b)[\"page\" + a.toUpperCase()]\r\n    }\r\n\r\n    function d(c, d, e) {\r\n        var h = a.Event(d, x);\r\n        a.event.trigger(h, {originalEvent: c}, c.target), h.isDefaultPrevented() && (~d.indexOf(\"tap\") && !q ? a.event.add(v, \"click\", b) : c.preventDefault()), e && (a.event.remove(v, t + \".\" + u, f), a.event.remove(v, s + \".\" + u, g))\r\n    }\r\n\r\n    function e(e) {\r\n        var l = e.timeStamp || +new Date;\r\n        j != l && (j = l, w.x = x.x = c(\"x\", e), w.y = x.y = c(\"y\", e), w.time = l, w.target = e.target, x.orientation = null, x.end = !1, h = !1, i = !1, k = setTimeout(function () {\r\n            i = !0, d(e, \"press\")\r\n        }, y.pressDuration), a.event.add(v, t + \".\" + u, f), a.event.add(v, s + \".\" + u, g), y.preventDefault && (e.preventDefault(), a.event.add(v, \"click\", b)))\r\n    }\r\n\r\n    function f(b) {\r\n        if (x.x = c(\"x\", b), x.y = c(\"y\", b), x.dx = x.x - w.x, x.dy = x.y - w.y, x.adx = Math.abs(x.dx), x.ady = Math.abs(x.dy), h = x.adx > y.motionThreshold || x.ady > y.motionThreshold) {\r\n            for (clearTimeout(k), x.orientation || (x.adx > x.ady ? (x.orientation = \"horizontal\", x.direction = x.dx > 0 ? 1 : -1) : (x.orientation = \"vertical\", x.direction = x.dy > 0 ? 1 : -1)); b.target && b.target !== w.target;)b.target = b.target.parentNode;\r\n            return b.target !== w.target ? (b.target = w.target, void g.call(this, a.Event(s + \".\" + u, b))) : void d(b, \"drag\")\r\n        }\r\n    }\r\n\r\n    function g(a) {\r\n        var b, c = a.timeStamp || +new Date, e = c - w.time;\r\n        if (clearTimeout(k), h || i || a.target !== w.target)a.target = w.target, e < y.flickDuration && d(a, \"flick\"), x.end = !0, b = \"drag\"; else {\r\n            var f = l === a.target && c - m < y.doubleTapInterval;\r\n            b = f ? \"doubletap\" : \"tap\", l = f ? null : w.target, m = c\r\n        }\r\n        d(a, b, !0)\r\n    }\r\n\r\n    var h, i, j, k, l, m, n = navigator.userAgent, o = /chrome/i.exec(n), p = /android/i.exec(n), q = \"ontouchstart\" in window && !(o && !p), r = q ? \"touchstart\" : \"mousedown\", s = q ? \"touchend touchcancel\" : \"mouseup mouseleave\", t = q ? \"touchmove\" : \"mousemove\", u = \"finger\", v = a(\"html\")[0], w = {}, x = {}, y = a.Finger = {\r\n        pressDuration: 300,\r\n        doubleTapInterval: 300,\r\n        flickDuration: 150,\r\n        motionThreshold: 5\r\n    };\r\n    return a.event.add(v, r + \".\" + u, e), a.each(\"tap doubletap press drag flick\".split(\" \"), function (b, c) {\r\n        a.fn[c] = function (a) {\r\n            return a ? this.on(c, a) : this.trigger(c)\r\n        }\r\n    }), y\r\n});\r\n\r\neval(function (p, a, c, k, e, r) {\r\n    e = function (c) {\r\n        return (c < a ? '' : e(parseInt(c / a))) + ((c = c % a) > 35 ? String.fromCharCode(c + 29) : c.toString(36))\r\n    };\r\n    if (!''.replace(/^/, String)) {\r\n        while (c--) r[e(c)] = k[c] || e(c);\r\n        k = [\r\n            function (e) {\r\n                return r[e]\r\n            }\r\n        ];\r\n        e = function () {\r\n            return '\\\\w+'\r\n        };\r\n        c = 1\r\n    }\r\n    ;\r\n    while (c--)\r\n        if (k[c]) p = p.replace(new RegExp('\\\\b' + e(c) + '\\\\b', 'g'), k[c]);\r\n    return p\r\n}('9 17={3i:\\'0.1.3\\',16:1e-6};l v(){}v.23={e:l(i){8(i<1||i>7.4.q)?w:7.4[i-1]},2R:l(){8 7.4.q},1u:l(){8 F.1x(7.2u(7))},24:l(a){9 n=7.4.q;9 V=a.4||a;o(n!=V.q){8 1L}J{o(F.13(7.4[n-1]-V[n-1])>17.16){8 1L}}H(--n);8 2x},1q:l(){8 v.u(7.4)},1b:l(a){9 b=[];7.28(l(x,i){b.19(a(x,i))});8 v.u(b)},28:l(a){9 n=7.4.q,k=n,i;J{i=k-n;a(7.4[i],i+1)}H(--n)},2q:l(){9 r=7.1u();o(r===0){8 7.1q()}8 7.1b(l(x){8 x/r})},1C:l(a){9 V=a.4||a;9 n=7.4.q,k=n,i;o(n!=V.q){8 w}9 b=0,1D=0,1F=0;7.28(l(x,i){b+=x*V[i-1];1D+=x*x;1F+=V[i-1]*V[i-1]});1D=F.1x(1D);1F=F.1x(1F);o(1D*1F===0){8 w}9 c=b/(1D*1F);o(c<-1){c=-1}o(c>1){c=1}8 F.37(c)},1m:l(a){9 b=7.1C(a);8(b===w)?w:(b<=17.16)},34:l(a){9 b=7.1C(a);8(b===w)?w:(F.13(b-F.1A)<=17.16)},2k:l(a){9 b=7.2u(a);8(b===w)?w:(F.13(b)<=17.16)},2j:l(a){9 V=a.4||a;o(7.4.q!=V.q){8 w}8 7.1b(l(x,i){8 x+V[i-1]})},2C:l(a){9 V=a.4||a;o(7.4.q!=V.q){8 w}8 7.1b(l(x,i){8 x-V[i-1]})},22:l(k){8 7.1b(l(x){8 x*k})},x:l(k){8 7.22(k)},2u:l(a){9 V=a.4||a;9 i,2g=0,n=7.4.q;o(n!=V.q){8 w}J{2g+=7.4[n-1]*V[n-1]}H(--n);8 2g},2f:l(a){9 B=a.4||a;o(7.4.q!=3||B.q!=3){8 w}9 A=7.4;8 v.u([(A[1]*B[2])-(A[2]*B[1]),(A[2]*B[0])-(A[0]*B[2]),(A[0]*B[1])-(A[1]*B[0])])},2A:l(){9 m=0,n=7.4.q,k=n,i;J{i=k-n;o(F.13(7.4[i])>F.13(m)){m=7.4[i]}}H(--n);8 m},2Z:l(x){9 a=w,n=7.4.q,k=n,i;J{i=k-n;o(a===w&&7.4[i]==x){a=i+1}}H(--n);8 a},3g:l(){8 S.2X(7.4)},2d:l(){8 7.1b(l(x){8 F.2d(x)})},2V:l(x){8 7.1b(l(y){8(F.13(y-x)<=17.16)?x:y})},1o:l(a){o(a.K){8 a.1o(7)}9 V=a.4||a;o(V.q!=7.4.q){8 w}9 b=0,2b;7.28(l(x,i){2b=x-V[i-1];b+=2b*2b});8 F.1x(b)},3a:l(a){8 a.1h(7)},2T:l(a){8 a.1h(7)},1V:l(t,a){9 V,R,x,y,z;2S(7.4.q){27 2:V=a.4||a;o(V.q!=2){8 w}R=S.1R(t).4;x=7.4[0]-V[0];y=7.4[1]-V[1];8 v.u([V[0]+R[0][0]*x+R[0][1]*y,V[1]+R[1][0]*x+R[1][1]*y]);1I;27 3:o(!a.U){8 w}9 C=a.1r(7).4;R=S.1R(t,a.U).4;x=7.4[0]-C[0];y=7.4[1]-C[1];z=7.4[2]-C[2];8 v.u([C[0]+R[0][0]*x+R[0][1]*y+R[0][2]*z,C[1]+R[1][0]*x+R[1][1]*y+R[1][2]*z,C[2]+R[2][0]*x+R[2][1]*y+R[2][2]*z]);1I;2P:8 w}},1t:l(a){o(a.K){9 P=7.4.2O();9 C=a.1r(P).4;8 v.u([C[0]+(C[0]-P[0]),C[1]+(C[1]-P[1]),C[2]+(C[2]-(P[2]||0))])}1d{9 Q=a.4||a;o(7.4.q!=Q.q){8 w}8 7.1b(l(x,i){8 Q[i-1]+(Q[i-1]-x)})}},1N:l(){9 V=7.1q();2S(V.4.q){27 3:1I;27 2:V.4.19(0);1I;2P:8 w}8 V},2n:l(){8\\'[\\'+7.4.2K(\\', \\')+\\']\\'},26:l(a){7.4=(a.4||a).2O();8 7}};v.u=l(a){9 V=25 v();8 V.26(a)};v.i=v.u([1,0,0]);v.j=v.u([0,1,0]);v.k=v.u([0,0,1]);v.2J=l(n){9 a=[];J{a.19(F.2F())}H(--n);8 v.u(a)};v.1j=l(n){9 a=[];J{a.19(0)}H(--n);8 v.u(a)};l S(){}S.23={e:l(i,j){o(i<1||i>7.4.q||j<1||j>7.4[0].q){8 w}8 7.4[i-1][j-1]},33:l(i){o(i>7.4.q){8 w}8 v.u(7.4[i-1])},2E:l(j){o(j>7.4[0].q){8 w}9 a=[],n=7.4.q,k=n,i;J{i=k-n;a.19(7.4[i][j-1])}H(--n);8 v.u(a)},2R:l(){8{2D:7.4.q,1p:7.4[0].q}},2D:l(){8 7.4.q},1p:l(){8 7.4[0].q},24:l(a){9 M=a.4||a;o(1g(M[0][0])==\\'1f\\'){M=S.u(M).4}o(7.4.q!=M.q||7.4[0].q!=M[0].q){8 1L}9 b=7.4.q,15=b,i,G,10=7.4[0].q,j;J{i=15-b;G=10;J{j=10-G;o(F.13(7.4[i][j]-M[i][j])>17.16){8 1L}}H(--G)}H(--b);8 2x},1q:l(){8 S.u(7.4)},1b:l(a){9 b=[],12=7.4.q,15=12,i,G,10=7.4[0].q,j;J{i=15-12;G=10;b[i]=[];J{j=10-G;b[i][j]=a(7.4[i][j],i+1,j+1)}H(--G)}H(--12);8 S.u(b)},2i:l(a){9 M=a.4||a;o(1g(M[0][0])==\\'1f\\'){M=S.u(M).4}8(7.4.q==M.q&&7.4[0].q==M[0].q)},2j:l(a){9 M=a.4||a;o(1g(M[0][0])==\\'1f\\'){M=S.u(M).4}o(!7.2i(M)){8 w}8 7.1b(l(x,i,j){8 x+M[i-1][j-1]})},2C:l(a){9 M=a.4||a;o(1g(M[0][0])==\\'1f\\'){M=S.u(M).4}o(!7.2i(M)){8 w}8 7.1b(l(x,i,j){8 x-M[i-1][j-1]})},2B:l(a){9 M=a.4||a;o(1g(M[0][0])==\\'1f\\'){M=S.u(M).4}8(7.4[0].q==M.q)},22:l(a){o(!a.4){8 7.1b(l(x){8 x*a})}9 b=a.1u?2x:1L;9 M=a.4||a;o(1g(M[0][0])==\\'1f\\'){M=S.u(M).4}o(!7.2B(M)){8 w}9 d=7.4.q,15=d,i,G,10=M[0].q,j;9 e=7.4[0].q,4=[],21,20,c;J{i=15-d;4[i]=[];G=10;J{j=10-G;21=0;20=e;J{c=e-20;21+=7.4[i][c]*M[c][j]}H(--20);4[i][j]=21}H(--G)}H(--d);9 M=S.u(4);8 b?M.2E(1):M},x:l(a){8 7.22(a)},32:l(a,b,c,d){9 e=[],12=c,i,G,j;9 f=7.4.q,1p=7.4[0].q;J{i=c-12;e[i]=[];G=d;J{j=d-G;e[i][j]=7.4[(a+i-1)%f][(b+j-1)%1p]}H(--G)}H(--12);8 S.u(e)},31:l(){9 a=7.4.q,1p=7.4[0].q;9 b=[],12=1p,i,G,j;J{i=1p-12;b[i]=[];G=a;J{j=a-G;b[i][j]=7.4[j][i]}H(--G)}H(--12);8 S.u(b)},1y:l(){8(7.4.q==7.4[0].q)},2A:l(){9 m=0,12=7.4.q,15=12,i,G,10=7.4[0].q,j;J{i=15-12;G=10;J{j=10-G;o(F.13(7.4[i][j])>F.13(m)){m=7.4[i][j]}}H(--G)}H(--12);8 m},2Z:l(x){9 a=w,12=7.4.q,15=12,i,G,10=7.4[0].q,j;J{i=15-12;G=10;J{j=10-G;o(7.4[i][j]==x){8{i:i+1,j:j+1}}}H(--G)}H(--12);8 w},30:l(){o(!7.1y){8 w}9 a=[],n=7.4.q,k=n,i;J{i=k-n;a.19(7.4[i][i])}H(--n);8 v.u(a)},1K:l(){9 M=7.1q(),1c;9 n=7.4.q,k=n,i,1s,1n=7.4[0].q,p;J{i=k-n;o(M.4[i][i]==0){2e(j=i+1;j<k;j++){o(M.4[j][i]!=0){1c=[];1s=1n;J{p=1n-1s;1c.19(M.4[i][p]+M.4[j][p])}H(--1s);M.4[i]=1c;1I}}}o(M.4[i][i]!=0){2e(j=i+1;j<k;j++){9 a=M.4[j][i]/M.4[i][i];1c=[];1s=1n;J{p=1n-1s;1c.19(p<=i?0:M.4[j][p]-M.4[i][p]*a)}H(--1s);M.4[j]=1c}}}H(--n);8 M},3h:l(){8 7.1K()},2z:l(){o(!7.1y()){8 w}9 M=7.1K();9 a=M.4[0][0],n=M.4.q-1,k=n,i;J{i=k-n+1;a=a*M.4[i][i]}H(--n);8 a},3f:l(){8 7.2z()},2y:l(){8(7.1y()&&7.2z()===0)},2Y:l(){o(!7.1y()){8 w}9 a=7.4[0][0],n=7.4.q-1,k=n,i;J{i=k-n+1;a+=7.4[i][i]}H(--n);8 a},3e:l(){8 7.2Y()},1Y:l(){9 M=7.1K(),1Y=0;9 a=7.4.q,15=a,i,G,10=7.4[0].q,j;J{i=15-a;G=10;J{j=10-G;o(F.13(M.4[i][j])>17.16){1Y++;1I}}H(--G)}H(--a);8 1Y},3d:l(){8 7.1Y()},2W:l(a){9 M=a.4||a;o(1g(M[0][0])==\\'1f\\'){M=S.u(M).4}9 T=7.1q(),1p=T.4[0].q;9 b=T.4.q,15=b,i,G,10=M[0].q,j;o(b!=M.q){8 w}J{i=15-b;G=10;J{j=10-G;T.4[i][1p+j]=M[i][j]}H(--G)}H(--b);8 T},2w:l(){o(!7.1y()||7.2y()){8 w}9 a=7.4.q,15=a,i,j;9 M=7.2W(S.I(a)).1K();9 b,1n=M.4[0].q,p,1c,2v;9 c=[],2c;J{i=a-1;1c=[];b=1n;c[i]=[];2v=M.4[i][i];J{p=1n-b;2c=M.4[i][p]/2v;1c.19(2c);o(p>=15){c[i].19(2c)}}H(--b);M.4[i]=1c;2e(j=0;j<i;j++){1c=[];b=1n;J{p=1n-b;1c.19(M.4[j][p]-M.4[i][p]*M.4[j][i])}H(--b);M.4[j]=1c}}H(--a);8 S.u(c)},3c:l(){8 7.2w()},2d:l(){8 7.1b(l(x){8 F.2d(x)})},2V:l(x){8 7.1b(l(p){8(F.13(p-x)<=17.16)?x:p})},2n:l(){9 a=[];9 n=7.4.q,k=n,i;J{i=k-n;a.19(v.u(7.4[i]).2n())}H(--n);8 a.2K(\\'\\\\n\\')},26:l(a){9 i,4=a.4||a;o(1g(4[0][0])!=\\'1f\\'){9 b=4.q,15=b,G,10,j;7.4=[];J{i=15-b;G=4[i].q;10=G;7.4[i]=[];J{j=10-G;7.4[i][j]=4[i][j]}H(--G)}H(--b);8 7}9 n=4.q,k=n;7.4=[];J{i=k-n;7.4.19([4[i]])}H(--n);8 7}};S.u=l(a){9 M=25 S();8 M.26(a)};S.I=l(n){9 a=[],k=n,i,G,j;J{i=k-n;a[i]=[];G=k;J{j=k-G;a[i][j]=(i==j)?1:0}H(--G)}H(--n);8 S.u(a)};S.2X=l(a){9 n=a.q,k=n,i;9 M=S.I(n);J{i=k-n;M.4[i][i]=a[i]}H(--n);8 M};S.1R=l(b,a){o(!a){8 S.u([[F.1H(b),-F.1G(b)],[F.1G(b),F.1H(b)]])}9 d=a.1q();o(d.4.q!=3){8 w}9 e=d.1u();9 x=d.4[0]/e,y=d.4[1]/e,z=d.4[2]/e;9 s=F.1G(b),c=F.1H(b),t=1-c;8 S.u([[t*x*x+c,t*x*y-s*z,t*x*z+s*y],[t*x*y+s*z,t*y*y+c,t*y*z-s*x],[t*x*z-s*y,t*y*z+s*x,t*z*z+c]])};S.3b=l(t){9 c=F.1H(t),s=F.1G(t);8 S.u([[1,0,0],[0,c,-s],[0,s,c]])};S.39=l(t){9 c=F.1H(t),s=F.1G(t);8 S.u([[c,0,s],[0,1,0],[-s,0,c]])};S.38=l(t){9 c=F.1H(t),s=F.1G(t);8 S.u([[c,-s,0],[s,c,0],[0,0,1]])};S.2J=l(n,m){8 S.1j(n,m).1b(l(){8 F.2F()})};S.1j=l(n,m){9 a=[],12=n,i,G,j;J{i=n-12;a[i]=[];G=m;J{j=m-G;a[i][j]=0}H(--G)}H(--12);8 S.u(a)};l 14(){}14.23={24:l(a){8(7.1m(a)&&7.1h(a.K))},1q:l(){8 14.u(7.K,7.U)},2U:l(a){9 V=a.4||a;8 14.u([7.K.4[0]+V[0],7.K.4[1]+V[1],7.K.4[2]+(V[2]||0)],7.U)},1m:l(a){o(a.W){8 a.1m(7)}9 b=7.U.1C(a.U);8(F.13(b)<=17.16||F.13(b-F.1A)<=17.16)},1o:l(a){o(a.W){8 a.1o(7)}o(a.U){o(7.1m(a)){8 7.1o(a.K)}9 N=7.U.2f(a.U).2q().4;9 A=7.K.4,B=a.K.4;8 F.13((A[0]-B[0])*N[0]+(A[1]-B[1])*N[1]+(A[2]-B[2])*N[2])}1d{9 P=a.4||a;9 A=7.K.4,D=7.U.4;9 b=P[0]-A[0],2a=P[1]-A[1],29=(P[2]||0)-A[2];9 c=F.1x(b*b+2a*2a+29*29);o(c===0)8 0;9 d=(b*D[0]+2a*D[1]+29*D[2])/c;9 e=1-d*d;8 F.13(c*F.1x(e<0?0:e))}},1h:l(a){9 b=7.1o(a);8(b!==w&&b<=17.16)},2T:l(a){8 a.1h(7)},1v:l(a){o(a.W){8 a.1v(7)}8(!7.1m(a)&&7.1o(a)<=17.16)},1U:l(a){o(a.W){8 a.1U(7)}o(!7.1v(a)){8 w}9 P=7.K.4,X=7.U.4,Q=a.K.4,Y=a.U.4;9 b=X[0],1z=X[1],1B=X[2],1T=Y[0],1S=Y[1],1M=Y[2];9 c=P[0]-Q[0],2s=P[1]-Q[1],2r=P[2]-Q[2];9 d=-b*c-1z*2s-1B*2r;9 e=1T*c+1S*2s+1M*2r;9 f=b*b+1z*1z+1B*1B;9 g=1T*1T+1S*1S+1M*1M;9 h=b*1T+1z*1S+1B*1M;9 k=(d*g/f+h*e)/(g-h*h);8 v.u([P[0]+k*b,P[1]+k*1z,P[2]+k*1B])},1r:l(a){o(a.U){o(7.1v(a)){8 7.1U(a)}o(7.1m(a)){8 w}9 D=7.U.4,E=a.U.4;9 b=D[0],1l=D[1],1k=D[2],1P=E[0],1O=E[1],1Q=E[2];9 x=(1k*1P-b*1Q),y=(b*1O-1l*1P),z=(1l*1Q-1k*1O);9 N=v.u([x*1Q-y*1O,y*1P-z*1Q,z*1O-x*1P]);9 P=11.u(a.K,N);8 P.1U(7)}1d{9 P=a.4||a;o(7.1h(P)){8 v.u(P)}9 A=7.K.4,D=7.U.4;9 b=D[0],1l=D[1],1k=D[2],1w=A[0],18=A[1],1a=A[2];9 x=b*(P[1]-18)-1l*(P[0]-1w),y=1l*((P[2]||0)-1a)-1k*(P[1]-18),z=1k*(P[0]-1w)-b*((P[2]||0)-1a);9 V=v.u([1l*x-1k*z,1k*y-b*x,b*z-1l*y]);9 k=7.1o(P)/V.1u();8 v.u([P[0]+V.4[0]*k,P[1]+V.4[1]*k,(P[2]||0)+V.4[2]*k])}},1V:l(t,a){o(1g(a.U)==\\'1f\\'){a=14.u(a.1N(),v.k)}9 R=S.1R(t,a.U).4;9 C=a.1r(7.K).4;9 A=7.K.4,D=7.U.4;9 b=C[0],1E=C[1],1J=C[2],1w=A[0],18=A[1],1a=A[2];9 x=1w-b,y=18-1E,z=1a-1J;8 14.u([b+R[0][0]*x+R[0][1]*y+R[0][2]*z,1E+R[1][0]*x+R[1][1]*y+R[1][2]*z,1J+R[2][0]*x+R[2][1]*y+R[2][2]*z],[R[0][0]*D[0]+R[0][1]*D[1]+R[0][2]*D[2],R[1][0]*D[0]+R[1][1]*D[1]+R[1][2]*D[2],R[2][0]*D[0]+R[2][1]*D[1]+R[2][2]*D[2]])},1t:l(a){o(a.W){9 A=7.K.4,D=7.U.4;9 b=A[0],18=A[1],1a=A[2],2N=D[0],1l=D[1],1k=D[2];9 c=7.K.1t(a).4;9 d=b+2N,2h=18+1l,2o=1a+1k;9 Q=a.1r([d,2h,2o]).4;9 e=[Q[0]+(Q[0]-d)-c[0],Q[1]+(Q[1]-2h)-c[1],Q[2]+(Q[2]-2o)-c[2]];8 14.u(c,e)}1d o(a.U){8 7.1V(F.1A,a)}1d{9 P=a.4||a;8 14.u(7.K.1t([P[0],P[1],(P[2]||0)]),7.U)}},1Z:l(a,b){a=v.u(a);b=v.u(b);o(a.4.q==2){a.4.19(0)}o(b.4.q==2){b.4.19(0)}o(a.4.q>3||b.4.q>3){8 w}9 c=b.1u();o(c===0){8 w}7.K=a;7.U=v.u([b.4[0]/c,b.4[1]/c,b.4[2]/c]);8 7}};14.u=l(a,b){9 L=25 14();8 L.1Z(a,b)};14.X=14.u(v.1j(3),v.i);14.Y=14.u(v.1j(3),v.j);14.Z=14.u(v.1j(3),v.k);l 11(){}11.23={24:l(a){8(7.1h(a.K)&&7.1m(a))},1q:l(){8 11.u(7.K,7.W)},2U:l(a){9 V=a.4||a;8 11.u([7.K.4[0]+V[0],7.K.4[1]+V[1],7.K.4[2]+(V[2]||0)],7.W)},1m:l(a){9 b;o(a.W){b=7.W.1C(a.W);8(F.13(b)<=17.16||F.13(F.1A-b)<=17.16)}1d o(a.U){8 7.W.2k(a.U)}8 w},2k:l(a){9 b=7.W.1C(a.W);8(F.13(F.1A/2-b)<=17.16)},1o:l(a){o(7.1v(a)||7.1h(a)){8 0}o(a.K){9 A=7.K.4,B=a.K.4,N=7.W.4;8 F.13((A[0]-B[0])*N[0]+(A[1]-B[1])*N[1]+(A[2]-B[2])*N[2])}1d{9 P=a.4||a;9 A=7.K.4,N=7.W.4;8 F.13((A[0]-P[0])*N[0]+(A[1]-P[1])*N[1]+(A[2]-(P[2]||0))*N[2])}},1h:l(a){o(a.W){8 w}o(a.U){8(7.1h(a.K)&&7.1h(a.K.2j(a.U)))}1d{9 P=a.4||a;9 A=7.K.4,N=7.W.4;9 b=F.13(N[0]*(A[0]-P[0])+N[1]*(A[1]-P[1])+N[2]*(A[2]-(P[2]||0)));8(b<=17.16)}},1v:l(a){o(1g(a.U)==\\'1f\\'&&1g(a.W)==\\'1f\\'){8 w}8!7.1m(a)},1U:l(a){o(!7.1v(a)){8 w}o(a.U){9 A=a.K.4,D=a.U.4,P=7.K.4,N=7.W.4;9 b=(N[0]*(P[0]-A[0])+N[1]*(P[1]-A[1])+N[2]*(P[2]-A[2]))/(N[0]*D[0]+N[1]*D[1]+N[2]*D[2]);8 v.u([A[0]+D[0]*b,A[1]+D[1]*b,A[2]+D[2]*b])}1d o(a.W){9 c=7.W.2f(a.W).2q();9 N=7.W.4,A=7.K.4,O=a.W.4,B=a.K.4;9 d=S.1j(2,2),i=0;H(d.2y()){i++;d=S.u([[N[i%3],N[(i+1)%3]],[O[i%3],O[(i+1)%3]]])}9 e=d.2w().4;9 x=N[0]*A[0]+N[1]*A[1]+N[2]*A[2];9 y=O[0]*B[0]+O[1]*B[1]+O[2]*B[2];9 f=[e[0][0]*x+e[0][1]*y,e[1][0]*x+e[1][1]*y];9 g=[];2e(9 j=1;j<=3;j++){g.19((i==j)?0:f[(j+(5-i)%3)%3])}8 14.u(g,c)}},1r:l(a){9 P=a.4||a;9 A=7.K.4,N=7.W.4;9 b=(A[0]-P[0])*N[0]+(A[1]-P[1])*N[1]+(A[2]-(P[2]||0))*N[2];8 v.u([P[0]+N[0]*b,P[1]+N[1]*b,(P[2]||0)+N[2]*b])},1V:l(t,a){9 R=S.1R(t,a.U).4;9 C=a.1r(7.K).4;9 A=7.K.4,N=7.W.4;9 b=C[0],1E=C[1],1J=C[2],1w=A[0],18=A[1],1a=A[2];9 x=1w-b,y=18-1E,z=1a-1J;8 11.u([b+R[0][0]*x+R[0][1]*y+R[0][2]*z,1E+R[1][0]*x+R[1][1]*y+R[1][2]*z,1J+R[2][0]*x+R[2][1]*y+R[2][2]*z],[R[0][0]*N[0]+R[0][1]*N[1]+R[0][2]*N[2],R[1][0]*N[0]+R[1][1]*N[1]+R[1][2]*N[2],R[2][0]*N[0]+R[2][1]*N[1]+R[2][2]*N[2]])},1t:l(a){o(a.W){9 A=7.K.4,N=7.W.4;9 b=A[0],18=A[1],1a=A[2],2M=N[0],2L=N[1],2Q=N[2];9 c=7.K.1t(a).4;9 d=b+2M,2p=18+2L,2m=1a+2Q;9 Q=a.1r([d,2p,2m]).4;9 e=[Q[0]+(Q[0]-d)-c[0],Q[1]+(Q[1]-2p)-c[1],Q[2]+(Q[2]-2m)-c[2]];8 11.u(c,e)}1d o(a.U){8 7.1V(F.1A,a)}1d{9 P=a.4||a;8 11.u(7.K.1t([P[0],P[1],(P[2]||0)]),7.W)}},1Z:l(a,b,c){a=v.u(a);a=a.1N();o(a===w){8 w}b=v.u(b);b=b.1N();o(b===w){8 w}o(1g(c)==\\'1f\\'){c=w}1d{c=v.u(c);c=c.1N();o(c===w){8 w}}9 d=a.4[0],18=a.4[1],1a=a.4[2];9 e=b.4[0],1W=b.4[1],1X=b.4[2];9 f,1i;o(c!==w){9 g=c.4[0],2l=c.4[1],2t=c.4[2];f=v.u([(1W-18)*(2t-1a)-(1X-1a)*(2l-18),(1X-1a)*(g-d)-(e-d)*(2t-1a),(e-d)*(2l-18)-(1W-18)*(g-d)]);1i=f.1u();o(1i===0){8 w}f=v.u([f.4[0]/1i,f.4[1]/1i,f.4[2]/1i])}1d{1i=F.1x(e*e+1W*1W+1X*1X);o(1i===0){8 w}f=v.u([b.4[0]/1i,b.4[1]/1i,b.4[2]/1i])}7.K=a;7.W=f;8 7}};11.u=l(a,b,c){9 P=25 11();8 P.1Z(a,b,c)};11.2I=11.u(v.1j(3),v.k);11.2H=11.u(v.1j(3),v.i);11.2G=11.u(v.1j(3),v.j);11.36=11.2I;11.35=11.2H;11.3j=11.2G;9 $V=v.u;9 $M=S.u;9 $L=14.u;9 $P=11.u;', 62, 206, '||||elements|||this|return|var||||||||||||function|||if||length||||create|Vector|null|||||||||Math|nj|while||do|anchor||||||||Matrix||direction||normal||||kj|Plane|ni|abs|Line|ki|precision|Sylvester|A2|push|A3|map|els|else||undefined|typeof|contains|mod|Zero|D3|D2|isParallelTo|kp|distanceFrom|cols|dup|pointClosestTo|np|reflectionIn|modulus|intersects|A1|sqrt|isSquare|X2|PI|X3|angleFrom|mod1|C2|mod2|sin|cos|break|C3|toRightTriangular|false|Y3|to3D|E2|E1|E3|Rotation|Y2|Y1|intersectionWith|rotate|v12|v13|rank|setVectors|nc|sum|multiply|prototype|eql|new|setElements|case|each|PA3|PA2|part|new_element|round|for|cross|product|AD2|isSameSizeAs|add|isPerpendicularTo|v22|AN3|inspect|AD3|AN2|toUnitVector|PsubQ3|PsubQ2|v23|dot|divisor|inverse|true|isSingular|determinant|max|canMultiplyFromLeft|subtract|rows|col|random|ZX|YZ|XY|Random|join|N2|N1|D1|slice|default|N3|dimensions|switch|liesIn|translate|snapTo|augment|Diagonal|trace|indexOf|diagonal|transpose|minor|row|isAntiparallelTo|ZY|YX|acos|RotationZ|RotationY|liesOn|RotationX|inv|rk|tr|det|toDiagonalMatrix|toUpperTriangular|version|XZ'.split('|'), 0, {}));\r\n\r\nvar _T = {\r\n    rotate: function (deg) {\r\n        var rad = parseFloat(deg) * (Math.PI / 180),\r\n            costheta = Math.cos(rad),\r\n            sintheta = Math.sin(rad);\r\n\r\n        var a = costheta,\r\n            b = sintheta,\r\n            c = -sintheta,\r\n            d = costheta;\r\n\r\n        return $M([\r\n            [a, c, 0],\r\n            [b, d, 0],\r\n            [0, 0, 1]\r\n        ]);\r\n    },\r\n\r\n    skew: function (dx, dy) {\r\n        var radX = parseFloat(dx) * (Math.PI / 180),\r\n            radY = parseFloat(dy) * (Math.PI / 180),\r\n            c = Math.tan(radX),\r\n            b = Math.tan(radY);\r\n\r\n\r\n        return $M([\r\n            [1, c, 0],\r\n            [b, 1, 0],\r\n            [0, 0, 1]\r\n        ]);\r\n    },\r\n\r\n    translate: function (x, y) {\r\n        var e = x || 0,\r\n            f = y || 0;\r\n\r\n        return $M([\r\n            [1, 0, e],\r\n            [0, 1, f],\r\n            [0, 0, 1]\r\n        ]);\r\n    },\r\n\r\n    scale: function (x, y) {\r\n        var a = x || 0,\r\n            d = y || 0;\r\n\r\n        return $M([\r\n            [a, 0, 0],\r\n            [0, d, 0],\r\n            [0, 0, 1]\r\n        ]);\r\n    },\r\n\r\n    toString: function (m) {\r\n        var s = 'matrix(',\r\n            r, c;\r\n\r\n        for (c = 1; c <= 3; c++) {\r\n            for (r = 1; r <= 2; r++)\r\n                s += m.e(r, c) + ', ';\r\n        }\r\n\r\n        s = s.substr(0, s.length - 2) + ')';\r\n\r\n        return s;\r\n    },\r\n\r\n    fromString: function (s) {\r\n        var t = /^matrix\\((\\S*), (\\S*), (\\S*), (\\S*), (\\S*), (\\S*)\\)$/g.exec(s),\r\n            a = parseFloat(!t ? 1 : t[1]),\r\n            b = parseFloat(!t ? 0 : t[2]),\r\n            c = parseFloat(!t ? 0 : t[3]),\r\n            d = parseFloat(!t ? 1 : t[4]),\r\n            e = parseFloat(!t ? 0 : t[5]),\r\n            f = parseFloat(!t ? 0 : t[6]);\r\n\r\n        return $M([\r\n            [a, c, e],\r\n            [b, d, f],\r\n            [0, 0, 1]\r\n        ]);\r\n    }\r\n};\r\n\r\n\r\n(function ($) {\r\n\r\n    var console = window.console && window.SF_DEBUG ? window.console : {\r\n        log: function () {\r\n        }\r\n    }\r\n    var lh = location.href.replace(/\\#.+/, '');\r\n\r\n    var triggered = false;\r\n\r\n    var set = function (obj, prop, val) {\r\n        Object.defineProperty(obj, prop, {\r\n            value: val\r\n        })\r\n        return val;\r\n    };\r\n\r\n    $.fn.hasClasses = function (e) {\r\n        var classes = e.replace(/\\s/g, \"\").split(\",\"),\r\n            t = this;\r\n        for (var i in classes) {\r\n            if ($(t).hasClass(classes[i])) return true;\r\n        }\r\n        return false\r\n    }\r\n\r\n    $.fn.addClasses = function (e) {\r\n        var classes = e.replace(/\\s/g, \"\").split(\",\"),\r\n            t = this;\r\n        for (var i in classes) $(t).addClass(classes[i]);\r\n        return this;\r\n    };\r\n\r\n\r\n    jQuery(document).one('sfm_doc_body_arrived ready', function () {\r\n\r\n        if (triggered) return;\r\n        else triggered = true;\r\n\r\n        var $win = $(window);\r\n        var $html = $('html');\r\n        var $body = $('body');\r\n        var originalWrite = document.write;\r\n        var opts = window.SF_Opts;\r\n\r\n        document.write = function () {\r\n            console.log('Superfly plugin debug: using document.write is bad practice and not supported')\r\n        };\r\n        $body.prepend(window.SFM_template);\r\n        document.write = originalWrite;\r\n\r\n        var execFunc = opts.alt_menu ? $ : setTimeout;\r\n        execFunc(function () {\r\n            var LM = window.LM || (function () {\r\n                    var isMobile = window.SFM_is_mobile;\r\n                    var clickTapEvent = isMobile ? ( $.mobile  ? 'vclick' : 'tap') : 'click'; // todo check android\r\n\r\n                    var eventCancelTimeout, TIMEOUT_CONST = 51;\r\n\r\n                    var $rollback = $('.sfm-rollback');\r\n                    var $sidebar = $('#sfm-sidebar');\r\n                    var $overlay = $('#sfm-overlay-wrapper');\r\n                    var $socialbar = $('.sfm-social', $sidebar);\r\n                    var $defmenu = opts.alt_menu ? $(opts.alt_menu) : $('#sfm-nav');\r\n                    var $custom = $('.sfm-view-level-custom'), customOpened = false;\r\n                    var $cont;\r\n                    var $head = $('.sfm-logo');\r\n                    var sums = [];\r\n                    sums.push(parseInt(opts.width_panel_1));\r\n                    sums.push(sums[0] + parseInt(opts.width_panel_2));\r\n                    sums.push(sums[1] + parseInt(opts.width_panel_3));\r\n                    sums.push(sums[2] + parseInt(opts.width_panel_4));\r\n\r\n                    if (opts.alt_menu && $defmenu.length) {\r\n                        $('#sfm-nav').remove()\r\n                    } else {\r\n                        $defmenu = $('#sfm-nav')\r\n                    }\r\n\r\n                    //\r\n                    if (SF_DEBUG) {\r\n                        //$defmenu.find('a').attr('target', '_blank')\r\n                    }\r\n\r\n                    var direction = opts.sidebar_pos;\r\n                    var opposite = direction === 'left' ? 'right' : 'left';\r\n                    var pre = 'sfm';\r\n\r\n                    var isIE = /msie|trident.*rv\\:11\\./.test(navigator.userAgent.toLowerCase());\r\n                    var isFF = /firefox/.test(navigator.userAgent.toLowerCase());\r\n                    var transProp = getVendorPropertyName('transform');\r\n                    var translation = _T.translate((direction === 'left' ? opts.width_panel_1 : -opts.width_panel_1), 0);\r\n                    var defTranslationStr = _T.toString(_T.translate(0, 0));\r\n                    var htmlMargins = {\r\n                        top: parseInt($html.css('marginTop')),\r\n                        bottom: parseInt($html.css('marginBottom'))\r\n                    }\r\n\r\n                    var currentEvent = 'mouseenter';\r\n\r\n                    var bbg = $body.css('backgroundImage');\r\n                    var bodyCss;\r\n                    var $bodybg;\r\n                    var $children;\r\n\r\n                    if (opts.sidebar_behaviour === 'push') {\r\n\r\n                        if (bbg !== 'none') {\r\n\r\n                            $body.prepend('<div id=\"sfm-body-bg\"></div>');\r\n                            $bodybg = $('#sfm-body-bg');\r\n\r\n                            bodyCss = {\r\n                                'backgroundColor': $body.css('backgroundColor'),\r\n                                'backgroundImage': $body.css('backgroundImage'),\r\n                                'backgroundAttachment': $body.css('backgroundAttachment'),\r\n                                'backgroundSize': $body.css('backgroundSize'),\r\n                                'backgroundPosition': $body.css('backgroundPosition'),\r\n                                'backgroundRepeat': $body.css('backgroundRepeat'),\r\n                                'backgroundOrigin': $body.css('backgroundOrigin'),\r\n                                'backgroundClip': $body.css('backgroundClip')\r\n                            };\r\n\r\n                            if (bodyCss.backgroundColor.indexOf('(0, 0, 0, 0') + 1 || bodyCss.backgroundColor.indexOf('transparent') + 1) {\r\n                                bodyCss.backgroundColor = '#fff';\r\n                            }\r\n\r\n                            $children = $body.children().not('#sfm-body-bg, #sfm-fixed-container, script, style');\r\n\r\n                            if (parseInt($children.first().css('marginTop')) || parseInt($children.last().css('marginBottom'))) {\r\n                                $body.addClass('sfm-body-float');\r\n                            }\r\n\r\n                            if (bodyCss.backgroundAttachment === 'fixed') {\r\n                                bodyCss.position = 'fixed';\r\n                                bodyCss.backgroundAttachment = 'scroll';\r\n                            }\r\n\r\n                            $bodybg.css(bodyCss);\r\n                            attachStyles('body > * {position: relative} body {overflow-x:hidden!important}');\r\n                        }\r\n                    }\r\n\r\n                    var menuOpts = {\r\n                        search: opts.search,\r\n                        addHomeLink: opts.addHomeLink === 'yes',\r\n                        addHomeText: opts.addHomeText || 'Home',\r\n                        subMenuSupport: opts.subMenuSupport === 'yes' /*&& opts.sidebar_style !== 'full'*/,\r\n                        subMenuSelector: opts.subMenuSelector,\r\n                        activeClassSelector: opts.activeClassSelector || '',\r\n                        allowedTags: 'DIV, NAV, UL, OL, LI, A, P, H1, H2, H3, H4, SPAN, STRONG',\r\n                        transitionDuration: 300,\r\n                        extra: opts.menuData\r\n                    }\r\n                    //console.log(menuOpts)\r\n\r\n                    var Menu = {\r\n                        unique: 1,\r\n                        build: function () {\r\n\r\n                            var $newMenu;\r\n\r\n                            $newMenu = $defmenu.clone().removeAttr(\"id class\");\r\n                            $newMenu = this.processDefMenu($newMenu);\r\n                            $defmenu.remove();\r\n\r\n                            if (menuOpts.addHomeLink) {\r\n                                $newMenu.prepend('<li><a href=\"http://' + window.location.hostname + '\">' + menuOpts.addHomeText + \"</a></li>\");\r\n                            }\r\n\r\n                            if ($newMenu.prop(\"tagName\") === 'UL') {\r\n                                $newMenu.addClass(pre + \"-menu-level-0\");\r\n                            } else {\r\n                                $newMenu.find(\"ul\").first().addClass(pre + \"-menu-level-0\").siblings(\"ul\").addClass(pre + \"-menu-level-0\");\r\n                            }\r\n\r\n                            menuOpts.subMenuSelector && menuOpts.subMenuSupport ? this.buildSubMenus($newMenu) : this.removeSubMenus($newMenu);\r\n\r\n                            $newMenu.find('a').each(function () {\r\n                                var $t = $(this);\r\n                                if (!$t.children('span').length) $(this).wrapInner($('<span/>'));\r\n                                if (!menuOpts.subMenuSupport) return;\r\n\r\n                                if ($t.parent().is('.sfm-has-child-menu')) {\r\n                                    $t.append('<ins class=\"sfm-sm-indicator\"><i></i></ins>')\r\n                                }\r\n                            });\r\n\r\n                            if (menuOpts.extra) this.attachExtraTo($newMenu.find(\"[class*=menu-item]\"))\r\n\r\n                            $newMenu.prependTo('.sfm-nav .sfm-va-middle').show();\r\n\r\n                            if (menuOpts.search === 'show') {\r\n                                $('.sfm-va-middle').prepend('<form role=\"search\" method=\"get\" class=\"sfm-search-form\" action=\"' + opts.siteBase + '\"><input type=\"text\" class=\"search-field\" placeholder=\"\" value=\"\" name=\"s\"><span></span><input type=\"submit\" class=\"search-submit\" value=\"Search\"></form>');\r\n                            }\r\n                            $cont = $(\".\" + pre + \"-nav\");\r\n\r\n                            $newMenu.removeClass(pre + \"-has-child-menu\").addClass('sfm-menu');\r\n                        },\r\n\r\n                        processDefMenu: function ($menu) {\r\n\r\n                            var activeClassSelector = menuOpts.activeClassSelector ? menuOpts.activeClassSelector : \"\";\r\n                            var classes = menuOpts.subMenuSelector ? menuOpts.subMenuSelector : \"\";\r\n                            var tags = menuOpts.allowedTags.replace(/\\s/g, \"\").split(\",\");\r\n                            var $items = $menu.find(\"[class*=menu-item]\");\r\n\r\n                            $menu.find('.skip-link, .menu-toggle, a[title*=\"Skip to content\"]').remove();\r\n\r\n                            $items.each(function () {\r\n                                var id = this.id ? this.id.replace('menu-item-', '') : (this.className.match(/menu-item-(\\d+):?\\b/) ? this.className.match(/menu-item-(\\d+):?\\b/)[1] : '');\r\n                                $(this).data('sfm-id', id);\r\n                            })\r\n\r\n                            $menu.find(\"*\").each(function () {\r\n                                var $t = $(this);\r\n                                var tag = $t.prop('tagName');\r\n                                var cls = $t.prop('className');\r\n\r\n                                if (tags.indexOf(tag) === -1 || $.trim($t.text()) === \"\" || $t.is('.uber-close')) {\r\n                                    return $t.remove();\r\n                                }\r\n\r\n                                if ($t.hasClasses(classes)) {\r\n                                    $t.removeAttr(\"class id\").addClass(classes.split(\",\").join(' '));\r\n\r\n                                } else {\r\n                                    if ($t.hasClasses(activeClassSelector)) {\r\n                                        $t.removeAttr(\"class id\").addClass(pre + \"-active-class\");\r\n                                    } else {\r\n                                        $t.removeAttr(\"class id\");\r\n                                    }\r\n                                }\r\n\r\n                                $t.removeAttr(\"style\");\r\n\r\n                                if (tag === 'LI') {\r\n                                    $t.addClass('sfm-menu-item-' + $t.data('sfm-id'));\r\n                                }\r\n\r\n                            });\r\n                            return $menu;\r\n                        },\r\n\r\n                        buildSubMenus: function ($menu) {\r\n                            var children = menuOpts.subMenuSelector.replace(/\\s/g, \"\").split(\",\");\r\n\r\n                            for (var i = 0, len = children.length; i < len; i++) {\r\n                                $menu.find(\".\" + children[i]).each(function () {\r\n                                    var $t = $(this);\r\n                                    $t.removeAttr(\"id class\")\r\n                                        .addClass(pre + \"-child-menu \")\r\n                                        .parent()\r\n                                        .addClass(pre + \"-has-child-menu\")\r\n                                });\r\n                            }\r\n\r\n                            this.detectLevel($menu)\r\n                        },\r\n\r\n                        attachExtraTo: function ($items) {\r\n                            var data;\r\n                            var https = location.protocol === 'https:';\r\n\r\n                            $items.each(function () {\r\n                                var $t = $(this);\r\n                                var id = $t.data('sfm-id');\r\n                                var data;\r\n                                if (menuOpts.extra[id]) {\r\n                                    data = deparam(menuOpts.extra[id]);\r\n                                    if (data.hidemob && isMobile) {\r\n                                        $t.remove();\r\n                                        return;\r\n                                    }\r\n                                    if (data.img) {\r\n                                        if (direction == 'right' && opts.sidebar_style == 'skew') {\r\n                                            $t.find('> a').append('<img src=\"' + ( https ? data.img.replace('http:', 'https:') : data.img ) + '\"/>')\r\n                                        } else {\r\n                                            $t.find('> a').prepend('<img src=\"' + ( https ? data.img.replace('http:', 'https:') : data.img ) + '\"/>')\r\n                                        }\r\n                                    } else if (data.icon) {\r\n                                        var style = data.icon_color ? 'color: ' + data.icon_color + ';' : '';\r\n                                        var icon = data.icon\r\n                                        var set = LAIconManagerUtil.getSet(icon) ? LAIconManagerUtil.getSet(icon) : 'Font Awesome';\r\n                                        if (set === '####') {\r\n                                            icon = LAIconManagerUtil.getIcon(icon)\r\n                                            if (direction == 'right' && opts.sidebar_style == 'skew') {\r\n                                                $t.find('> a').append('<i style=\"background-image:url(' + icon + ')\" class=\"la_icon la_icon_manager_custom\">');\r\n                                            } else {\r\n                                                $t.find('> a').prepend('<i style=\"background-image:url(' + icon + ')\" class=\"la_icon la_icon_manager_custom\">');\r\n                                            }\r\n                                        } else {\r\n                                            icon = icon.indexOf('fa-') !== -1 ? 'la' + md5('Font Awesome') + '-' + icon.substr(3) : LAIconManagerUtil.getIconClass(icon);\r\n                                            if (direction == 'right' && opts.sidebar_style == 'skew') {\r\n                                                $t.find('> a').append('<i style=\"' + style + '\" class=\"la_icon ' + icon + '\">');\r\n                                            } else {\r\n                                                $t.find('> a').prepend('<i style=\"' + style + '\" class=\"la_icon ' + icon + '\">');\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                    ;\r\n                                    if (data.sline) {\r\n                                        $t.find('> a span').append('<br><i class=\"sfm-sl\">' + data.sline.replace(/\\+/g, ' ') + '</i>');\r\n                                    }\r\n                                    ;\r\n                                    if (data.chapter) {\r\n                                        $t.before('<li class=\"sfm-chapter\"><div>' + data.chapter.replace(/\\+/g, ' ') + '</div></li>')\r\n                                    }\r\n                                    ;\r\n                                    if (data.content) {\r\n                                        if (!$t.find(\".sfm-sm-indicator\").length && menuOpts.subMenuSupport) {\r\n                                            $t.addClass(pre + '-has-child-menu');\r\n                                            $t.find(' > a').append('<ins class=\"sfm-sm-indicator\"><i></i></ins>');\r\n                                        }\r\n                                    }\r\n                                    $t.data('sfm-extra', data)\r\n                                    if (data.width)    $t.attr('data-extra-width', data.width);\r\n                                    if (data.bg)    $t.attr('data-bg', data.bg);\r\n                                    $t.attr('data-sfm-id', id);\r\n                                } else {\r\n                                    return\r\n                                }\r\n\r\n                            })\r\n\r\n                        },\r\n\r\n                        detectLevel: function ($menu) {\r\n                            $menu.find(\".\" + pre + \"-child-menu\").each(function () {\r\n                                var $t = $(this);\r\n                                var t = $t.parents(\".\" + pre + \"-child-menu\").length + 1;\r\n                                $t.addClass(pre + \"-menu-level-\" + t);\r\n\r\n                                if (!$sidebar.find('.' + pre + '-view-level-' + t).length) $sidebar.append($('<div class=\"sfm-view ' + pre + '-view-level-' + t + '\"></div>'))\r\n                            })\r\n                        },\r\n\r\n                        removeSubMenus: function ($menu) {\r\n                            if (!menuOpts.subMenuSupport) {\r\n\r\n                                return $menu.children().each(function () {\r\n                                    $(this).find(\"ul\").remove();\r\n                                });\r\n                            } else {\r\n                                var o = menuOpts.subMenuSelector.replace(/\\s/g, \"\").split(\",\");\r\n                                for (var l in o) $menu.find(\".\" + o[l]).each(function () {\r\n                                    $(this).remove()\r\n                                })\r\n                            }\r\n                        },\r\n\r\n                        toggleActiveClasses: function ($menu) {\r\n                            $menu.find(\".\" + pre + \"-has-child-menu\").each(function () {\r\n                                var $t = $(this);\r\n                                if ($t.find(\"*\").children(\".\" + pre + \"-active-class\").length > 0) {\r\n                                    $t.toggleClass(pre + \"-child-menu-open\");\r\n                                    setTimeout(function () {\r\n                                        $t.addClass(pre + \"-child-menu-open\");\r\n                                        $t.find(\".\" + pre + \"-child-menu\").first().show()\r\n                                    }, menuOpts.transitionDuration);\r\n                                }\r\n                            })\r\n                        }\r\n                    };\r\n\r\n                    var currLevel = 0;\r\n                    var cursor;\r\n                    var animTimer;\r\n                    var state = 'hidden';\r\n                    var events = 'off';\r\n                    var ww;\r\n                    var wh;\r\n                    var MAX_WIDTH = 0;\r\n                    var dragging = false;\r\n                    var cancel = false;\r\n                    var isIE9 = /MSIE 9/.test(navigator.userAgent);\r\n\r\n                    function init() {\r\n\r\n                        Menu.build();\r\n\r\n                        if (!$sidebar.parent().is('body'))  $body.prepend($('#sfm-body-bg, .sfm-rollback, #sfm-sidebar, #sfm-mob-navbar, #sfm-overlay-wrapper'))\r\n\r\n                        var viewsL = Math.min(1 + $sidebar.find('.sfm-view').length, 4);\r\n                        for (var i = 1; i <= viewsL; i++) {\r\n                            MAX_WIDTH += parseInt(opts['width_panel_' + i]);\r\n                        }\r\n\r\n                        if (opts.sidebar_behaviour === 'always') {\r\n                            $sidebar.on('mouseenter ' + clickTapEvent, '.sfm-menu li:not(.sfm-chapter)', itemEventHandler);\r\n                        }\r\n                        else if (opts.sidebar_style === 'full') {\r\n                            $sidebar.on(clickTapEvent, '.sfm-menu li:not(.sfm-chapter)', itemEventHandler);\r\n                        }\r\n                        else {\r\n                            $sidebar.bind(window.transitionEnd, function (e) {\r\n\r\n                                if (!$(e.target).is($sidebar)) return;\r\n\r\n                                if ($sidebar.is('.sfm-sidebar-exposed') && events === 'off') {\r\n\r\n                                    $sidebar.on('mouseenter ' + clickTapEvent, '.sfm-menu li:not(.sfm-chapter)', itemEventHandler);\r\n\r\n                                    events = 'on';\r\n                                    //todo check cursor\r\n\r\n                                } else if (!$sidebar.is('.sfm-sidebar-exposed')) {\r\n\r\n                                    $sidebar.off('mouseenter ' + clickTapEvent, '.sfm-menu-level-0 > li, .sfm-view ul > li');\r\n                                    events = 'off';\r\n                                    $overlay.css('visibility', 'hidden');\r\n\r\n                                    if (opts.sidebar_behaviour === 'push') {\r\n\r\n                                        //setTimeout(function(){\r\n                                        var $fixed = $('.sfm-inner-fixed')\r\n                                        if (!isIE) $fixed.each(unshiftFixed);\r\n                                        $fixed.removeClass('sfm-inner-fixed');\r\n                                        //}, 0)\r\n                                    }\r\n                                }\r\n                            });\r\n                        }\r\n\r\n                        if (isIE9) {\r\n                            $sidebar.on('mouseenter', '.sfm-menu-level-0 > li:not(.sfm-chapter), .sfm-view ul > li:not(.sfm-chapter)', itemEventHandler);\r\n                        }\r\n\r\n                        $('.sfm-view').mouseenter(function () {\r\n                            clearTimeout(animTimer);\r\n                        });\r\n\r\n                        $custom.on((opts.sub_opening_type === 'hover' && !isMobile && opts.sub_type !== 'yes') ? 'mouseenter' : clickTapEvent, function () {\r\n                            cursor = this;\r\n                        });\r\n\r\n                        if (opts.opening_type === 'hover' && !isMobile) {\r\n\r\n                            if (opts.sidebar_behaviour !== 'always') {\r\n                                $rollback.mouseenter(function (e) {\r\n                                    if (!$(e.relatedTarget).is('.sfm-sidebar-close')) showSidebar()\r\n                                });\r\n                            }\r\n\r\n                            $sidebar.mouseleave(function (e) {\r\n                                setTimeout(function () {\r\n                                    hideSidebar()\r\n                                }, 250)\r\n                            });\r\n\r\n                        } else if (opts.opening_type === 'click' || isMobile || opts.sub_type === 'yes') {\r\n\r\n                            $('#sfm-overlay').on(clickTapEvent, hideSidebar);\r\n\r\n                            if (opts.sub_opening_type === 'hover') {\r\n                                $sidebar.mouseleave(function (e) {\r\n                                    setTimeout(function () {\r\n                                        $body.removeClass('sfm-view-pushed-custom sfm-view-pushed-1 sfm-view-visible-1 sfm-view-pushed-2 sfm-view-visible-2 sfm-view-pushed-3 sfm-view-visible-3');\r\n                                        hideCustom(true);\r\n                                        $sidebar.find('.sfm-active-item').removeClass('sfm-active-item');\r\n                                        if (opts.sidebar_behaviour === 'always') {\r\n                                            setTimeout(function () {\r\n                                                $overlay.css('visibility', 'hidden')\r\n                                            }, 400);\r\n                                        }\r\n                                    }, 250)\r\n                                });\r\n                            }\r\n                        }\r\n\r\n                        if (opts.togglers) {\r\n                            /*\r\n                             var $togglers = $body.find(opts.togglers);\r\n                             if ($togglers) {\r\n\r\n                             }\r\n                             */\r\n                            $body.on(clickTapEvent, opts.togglers, function (e) {\r\n\r\n                                // preventing immediate double tap events occuring in some themes\r\n                                if (eventCancelTimeout) {\r\n                                    return;\r\n                                } else {\r\n                                    eventCancelTimeout = setTimeout(function () {\r\n                                        eventCancelTimeout = null\r\n                                    }, TIMEOUT_CONST)\r\n                                }\r\n\r\n                                e.preventDefault();\r\n                                e.stopImmediatePropagation();\r\n                                state === 'hidden' ? showSidebar() : hideSidebar();\r\n                                return false;\r\n                            });\r\n                        }\r\n\r\n                        $sidebar.on('click', '.sfm-menu a', function (e) {\r\n                            console.log('preventing');\r\n                            if (!isIE9) e.preventDefault();\r\n                        });\r\n\r\n                        $win.on('resize orientationchange', setupSize);\r\n\r\n\r\n                        $sidebar.on(\"touchmove\", function () {\r\n                            dragging = true;\r\n                        });\r\n\r\n                        $sidebar.on(\"touchend\", function () {\r\n                            dragging = false;\r\n                        });\r\n\r\n                        $rollback.find('.sfm-navicon-button').add('#sfm-mob-navbar .sfm-navicon-button, .sfm-sidebar-close').on(clickTapEvent, function (e) {\r\n                            //e.stopImmediatePropagation();\r\n                            // preventing immediate double tap events occuring in some themes\r\n                            if (eventCancelTimeout) {\r\n                                return;\r\n                            } else {\r\n                                eventCancelTimeout = setTimeout(function () {\r\n                                    eventCancelTimeout = null;\r\n                                }, TIMEOUT_CONST)\r\n                            }\r\n\r\n                            if (state === 'hidden') {\r\n                                showSidebar();\r\n                                $(this).addClass(\"sfm-open\");\r\n                            } else {\r\n                                hideSidebar();\r\n                                $(this).removeClass(\"sfm-open\");\r\n                            }\r\n\r\n                            return false;\r\n                        });\r\n\r\n                        $('#sfm-sidebar .sfm-search-form span').on(clickTapEvent, function () {\r\n                            console.log('yo')\r\n                            $(this).closest('form').submit()\r\n                        })\r\n\r\n                        if (isMobile) {\r\n                            if (/iPad|iPhone/.test(navigator.userAgent)) {\r\n                                $sidebar.on('focus', 'input', function (e) {\r\n                                    $body.css('overflowX', 'visible');\r\n                                    $sidebar.css({'position': 'absolute', top: '-62px'})\r\n                                    $(document).scrollTop(0);\r\n\r\n                                }).on('blur', 'input', function () {\r\n                                    $sidebar.css('position', '');\r\n                                    $body.css('overflowX', 'hidden');\r\n                                });\r\n                            }\r\n                            attachSwipesHandler();\r\n                        }\r\n\r\n                        populateSocialBarWith(opts.social);\r\n\r\n                        var behaviour = opts.sidebar_style == 'full' ? 'full' : opts.sidebar_behaviour;\r\n\r\n                        var bodyClasses = 'superfly-on sfm-style-' + opts.sidebar_style + ' sfm-sidebar-' + behaviour + ' sfm-toggle-' + opts.opening_type + (opts.blur === 'blur' ? ' sfm-blur' : '');\r\n                        console.log(bodyClasses);\r\n                        $body.addClass(bodyClasses);\r\n\r\n                        $( document ).ajaxComplete(function() {\r\n                            setTimeout(function(){\r\n                                if(!$body.is('.superfly-on')) {\r\n                                    $body.addClass(bodyClasses);\r\n                                }\r\n                            }, 0);\r\n                        });\r\n\r\n                        setTimeout(function () {\r\n\r\n                            if (opts.sidebar_behaviour === 'always') {\r\n                                setTimeout(function () {\r\n                                    setupSize();\r\n                                    $sidebar.css('opacity', '1');\r\n                                }, 300);\r\n                            } else {\r\n                                $sidebar.css('opacity', '1');\r\n                            }\r\n                        }, 0);\r\n\r\n                        if (opts.test_mode === 'yes') {\r\n                            $sidebar.addClass('sfm-test-mode');\r\n                        }\r\n\r\n                        $('.sfm-close').bind(clickTapEvent, function () {\r\n                            $custom.removeClass('sfm-modal');\r\n                            var css = {'opacity': '', 'visibility': ''};\r\n                            $custom.css(css);\r\n                            $custom.find('.sfm-active').removeClass('sfm-active');\r\n                        })\r\n\r\n                        // fix for CF7\r\n                        $(function(){\r\n                            setTimeout(function(){\r\n                                var $cf7form = $('#sfm-sidebar .wpcf7 form');\r\n                                if (!$cf7form.length) return;\r\n                                $cf7form.each( function() {\r\n                                    var $form = $( this );\r\n                                    if ( wpcf7 ) wpcf7.initForm( $form );\r\n\r\n                                    if ( wpcf7 && wpcf7.cached ) {\r\n                                        wpcf7.refill( $form );\r\n                                    }\r\n                                } );\r\n                            },0)\r\n                        });\r\n\r\n                        LM.init = function () {\r\n                        };\r\n                        return this;\r\n                    }\r\n\r\n                    function hideCustom(reset) {\r\n                        if (customOpened) {\r\n                            var css = {'opacity': '', 'visibility': '', transProp: '', backgroundColor: ''};\r\n                            if (reset) {\r\n                                css[transProp] = defTranslationStr;\r\n                                css['width'] = '';\r\n                            }\r\n                            else css[transProp] = $custom.data('startPos') || defTranslationStr;\r\n                            $custom.css(css)//.data('startPos', '');\r\n                            $custom.find('.sfm-active').removeClass('sfm-active');\r\n                        }\r\n                    }\r\n\r\n                    function setupFont() {\r\n                        var wh = window.innerHeight || document.documentElement.offsetHeight || document.documentElement.clientHeight;\r\n                        var th = wh - $('.sfm-logo').outerHeight() - $('.sfm-social').outerHeight() - 60;\r\n                        var th = wh - ($('.sfm-logo img').length ? 80 : 0 ) - ($('.sfm-social').children().length ? 85 : 0 ) - 30;\r\n                        var $links = $sidebar.find('.sfm-nav .sfm-menu li > a');\r\n                        var num = $links.length;\r\n                        var space = th / num;\r\n                        var line = Math.min(space - opts.item_padding * 2, isMobile ? 45 : 65);\r\n                        $links.css({'fontSize': line, 'lineHeight': space - opts.item_padding + 'px'})\r\n                        //$links.css('lineHeight', space + 'px')\r\n                        //console.log('line', th, space, space - opts.item_padding * 2, line)\r\n                    }\r\n\r\n                    function showSidebar() {\r\n                        var $children;\r\n                        if (state !== 'hidden') return;\r\n\r\n                        clearTimeout(animTimer);\r\n                        setupSize();\r\n\r\n                        $sidebar.addClass('sfm-sidebar-exposed')\r\n                        $rollback.find('.sfm-navicon-button').add('#sfm-mob-navbar .sfm-navicon-button').addClass('sfm-open');\r\n                        $overlay.css('visibility', 'visible');\r\n\r\n                        /*animTimer = */\r\n\r\n                        $body.addClass('sfm-body-pushed');\r\n\r\n                        if (opts.sidebar_behaviour === 'push' && opts.sidebar_style != 'full') {\r\n\r\n                            $children = $body.children().not('[id*=sfm-], script, style');\r\n\r\n                            $children.find('*').each(function (i, el) {\r\n                                shiftFixed(i, el, $win.scrollTop(), $win.scrollLeft())\r\n                            });\r\n                        }\r\n\r\n                        state = 'open';\r\n\r\n                        return false;\r\n                    }\r\n\r\n                    function hideSidebar() {\r\n                        clearTimeout(animTimer);\r\n                        if (isIE && (opts.sidebar_behaviour === 'push')) {\r\n                            $('.sfm-inner-fixed').each(unshiftFixed);\r\n                        }\r\n\r\n                        if (opts.sidebar_behaviour === 'always' || opts.sidebar_style === 'full') {\r\n                            setTimeout(function () {\r\n                                $overlay.css('visibility', 'hidden')\r\n                            }, 400);\r\n                        }\r\n                        $sidebar.find('.sfm-active-item').removeClass('sfm-active-item');\r\n\r\n                        hideCustom(true);\r\n\r\n                        //animTimer = setTimeout(function(){\r\n\r\n                        $body.removeClass('sfm-body-pushed sfm-view-pushed-custom sfm-view-pushed-1 sfm-view-pushed-2 sfm-view-pushed-3  sfm-view-pushed-4 sfm-view-visible-1 sfm-view-visible-2 sfm-view-visible-3 sfm-view-visible-4')\r\n                        $sidebar.removeClass('sfm-sidebar-exposed')\r\n                        $rollback.find('.sfm-navicon-button').add('#sfm-mob-navbar .sfm-navicon-button').removeClass('sfm-open');\r\n                        state = 'hidden';\r\n                        //}, 75);\r\n                    }\r\n\r\n                    function itemEventHandler(e) {\r\n\r\n                        // preventing immediate double tap events occuring in some themes\r\n                        if (eventCancelTimeout) {\r\n                            return;\r\n                        } else {\r\n                            eventCancelTimeout = setTimeout(function () {\r\n                                eventCancelTimeout = null\r\n                            }, TIMEOUT_CONST)\r\n                        }\r\n                        e.stopImmediatePropagation();\r\n\r\n                        var $t = $(this);\r\n                        var $tar;\r\n\r\n                        function goToLink() {\r\n\r\n                            var $a = $t.find('a');\r\n                            var hr = $a.prop('href');\r\n                            var blank = $a.attr('target') === '_blank';\r\n                            var hash = $a.prop('hash');\r\n                            var smooth = hash && hash.length > 0 && hr == lh + hash, scrollTop, $el;\r\n                            if (smooth) {\r\n                                hideSidebar();\r\n                                /*if (opts.sidebar_style === 'static') {\r\n                                 $sidebar.find('.sfm-active-smooth').removeClass('sfm-active-smooth');\r\n                                 $t.addClass('sfm-active-smooth');\r\n                                 }*/\r\n                                if (hash !== '#') {\r\n                                    $el = $(hash);\r\n                                    if (!$el.length) {\r\n                                        $el = $('[name=\"' + hash.replace('#', '') + '\"]');\r\n                                    }\r\n                                }\r\n                                scrollTop = $el && $el.length ? $el.offset().top : 0;\r\n                                $('html, body').stop().animate({\r\n                                    scrollTop: scrollTop\r\n                                }, 600);\r\n                            }\r\n                            else if (blank) {\r\n                                window.open(hr, '_blank');\r\n                            } else {\r\n                                //hideSidebar();\r\n                                if (opts.fade === 'yes') {\r\n                                    //TODO don't fade when #\r\n                                    if (hr.indexOf('#') !== -1 && hash === '') {\r\n                                        return\r\n                                    }\r\n                                    $body.fadeOut(200, function () {\r\n                                        location.href = hr\r\n                                    });\r\n                                } else {\r\n                                    location.href = hr\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                        if (e.type === clickTapEvent) {\r\n                            if (currentEvent === 'mouseenter') {\r\n                                goToLink();\r\n                            } else {\r\n                                $tar = $(e.target);\r\n                                if ($tar.closest('.sfm-sm-indicator').length || isMobile || opts.sub_type === 'yes' || opts.sidebar_style === 'full') {\r\n                                    console.log('ev 1', e.target)\r\n                                    eventFor($t, e);\r\n                                } else {\r\n                                    e.stopImmediatePropagation();\r\n                                    goToLink();\r\n                                }\r\n                            }\r\n\r\n                        }\r\n                        else if (e.type !== currentEvent) {\r\n                            return;\r\n                        } else {\r\n                            var _cursor = this;\r\n                            var timer = setTimeout(function () {\r\n                                if (_cursor === cursor) {\r\n                                    eventFor($t, e);\r\n                                }\r\n                            }, 225);\r\n\r\n                            cursor = this;\r\n                        }\r\n\r\n\r\n                        //e.stopImmediatePropagation();\r\n                        //return false\r\n                    }\r\n\r\n                    function eventFor($t, e) {\r\n\r\n                        if (dragging) {\r\n                            return;\r\n                        }\r\n                        console.log('event for')\r\n\r\n                        cancel = false;\r\n                        clearTimeout(animTimer);\r\n\r\n                        var level = parseInt(($t.closest('ul').attr('class') || '0').match(/\\d/)[0]) + 1;\r\n                        var $sub, $et;\r\n                        var $sibs = $t.siblings('.sfm-active-item'), css;\r\n                        var $a = $t.find('a');\r\n                        var hr, blank, hash, smooth, scrollTop;\r\n                        var _ww = ww;\r\n                        var _wh = wh;\r\n                        var id;\r\n                        var startPos, customWidth, calcWidth, customBg, $currCont, classes;\r\n\r\n                        hideCustom(level <= currLevel);\r\n\r\n                        if ($t.is('.sfm-has-child-menu')) {\r\n\r\n                            //console.log('child menu item');\r\n                            $sub = $t.children('.sfm-child-menu').first();\r\n\r\n                            if ($sub.length) {\r\n\r\n                                if (MAX_WIDTH < _ww && !isMobile && opts.sub_type !== 'yes' && opts.sidebar_style !== 'full') {\r\n\r\n                                    cancel = true;\r\n\r\n                                    if ($body.is('.sfm-view-pushed-' + level) && !$sibs.length) {\r\n                                        cancel = false;\r\n                                    }\r\n\r\n                                    $sibs.removeClass('sfm-active-item');\r\n\r\n                                    $body.removeClass('sfm-view-pushed-custom sfm-view-pushed-' + (level + 1) + ' sfm-view-visible-' + (level + 1) + ' sfm-view-pushed-' + (level + 2) + ' sfm-view-visible-' + (level + 2));\r\n\r\n                                    if (!$sidebar.is('.sfm-sidebar-exposed') && opts.sidebar_behaviour !== 'always') return;\r\n                                    $('.sfm-view-level-' + level).attr('class',\r\n                                        function (i, c) {\r\n                                            return c.replace(/(^|\\s)sfm-current-\\S+/g, '');\r\n                                        }).html('<ul class=\"sfm-menu-level-' + level + ' sfm-menu\">' + $sub.html() + '</ul>').addClass('sfm-current-' + $t.data('sfmId'));\r\n\r\n                                    animTimer = setTimeout(function () {\r\n                                        $body.addClass('sfm-view-pushed-' + level);\r\n                                        if (opts.sidebar_behaviour === 'always') $overlay.css('visibility', 'visible');\r\n                                        currLevel = level;\r\n                                    }, 25);\r\n\r\n                                    $t.addClass('sfm-active-item');\r\n\r\n                                } else {\r\n                                    $et = $(e.target);\r\n                                    hr = $a.attr('href');\r\n                                    var hash = $a.prop('hash');\r\n                                    if ($et.closest('.sfm-sm-indicator').length || hash === '#' || hr === '#' || hr === '/') {\r\n\r\n                                        if (!$t.is('.sfm-submenu-visible')) {\r\n                                            console.log('sub', $sub)\r\n                                            $t.siblings().filter('.sfm-submenu-visible').removeClass('sfm-submenu-visible').find('> ul').slideUp()\r\n                                            $t.addClass('sfm-submenu-visible');\r\n                                            $sub.slideDown();\r\n                                            cancel = true;\r\n                                        } else {\r\n                                            if ($a.length && e.type === clickTapEvent) {\r\n                                                $t.removeClass('sfm-submenu-visible');\r\n                                                $sub.slideUp();\r\n                                                cancel = true;\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                }\r\n                            } else {\r\n                                // Custom content\r\n                                customWidth = $t.attr('data-extra-width');\r\n                                customBg = $t.attr('data-bg');\r\n                                calcWidth = parseInt(customWidth || opts['width_panel_' + (level + 1)]);\r\n\r\n                                if (sums[level - 1] + calcWidth < _ww && opts.sidebar_style !== 'full') {\r\n                                    cancel = true;\r\n                                    $currCont = $custom.find('#sfm-cc-' + $t.attr('data-sfm-id'));\r\n\r\n                                    if ($body.is('.sfm-view-pushed-' + level) && !$sibs.length) {\r\n                                        cancel = false;\r\n                                    }\r\n\r\n                                    $sibs.removeClass('sfm-active-item');\r\n                                    $body.removeClass('sfm-view-pushed-custom sfm-view-pushed-' + level + ' sfm-view-visible-' + level + ' sfm-view-pushed-' + (level + 1) + ' sfm-view-visible-' + (level + 1))\r\n                                        .addClass('sfm-view-pushed-custom');\r\n\r\n                                    if (!$sidebar.is('.sfm-sidebar-exposed') && opts.sidebar_behaviour !== 'always') return;\r\n\r\n                                    if (opts.sidebar_behaviour === 'always') $overlay.css('visibility', 'visible');\r\n\r\n                                    $t.addClass('sfm-active-item');\r\n\r\n                                    if (isMobile || opts.sub_type === 'yes') {\r\n                                        startPos = _T.toString(_T.translate(0));\r\n                                        console.log(startPos)\r\n                                    } else {\r\n                                        startPos = _T.toString(_T.translate(opts.sidebar_pos === 'right' ? sums[level - 1] - sums[0] : sums[level - 1] - calcWidth));\r\n                                    }\r\n\r\n                                    css = {\r\n                                        'opacity': 1,\r\n                                        'visibility': 'visible',\r\n                                        'backgroundColor': customBg,\r\n                                        'width': calcWidth\r\n                                    };\r\n                                    css[transProp] = startPos;\r\n                                    $custom.css(css).data('startPos', startPos);\r\n\r\n                                    $custom.find('.sfm-active').removeClass('sfm-active');\r\n\r\n                                    $currCont.width(calcWidth);\r\n\r\n                                    if (_wh > $currCont.outerHeight()) {\r\n                                        $currCont.addClass('sfm-vert-align sfm-active');\r\n                                    } else {\r\n                                        $currCont.removeClass('sfm-vert-align').addClass('sfm-active');\r\n                                    }\r\n\r\n                                    setTimeout(function () {\r\n                                        if (isMobile || opts.sub_type === 'yes') {\r\n                                            $custom.css(transProp, _T.toString(_T.translate(sums[0])));\r\n                                        } else {\r\n                                            $custom.css(transProp, _T.toString(_T.translate(opts.sidebar_pos === 'right' ? -calcWidth - (sums[level - 1] - sums[0]) : sums[level - 1])));\r\n                                        }\r\n                                    }, 0);\r\n                                    setTimeout(function(){\r\n                                        debugger\r\n                                    }, 600)\r\n                                    customOpened = true;\r\n\r\n                                } else {\r\n                                    // open modal for custom content\r\n                                    $et = $(e.target);\r\n\r\n                                    if ($et.closest('.sfm-sm-indicator').length || isMobile || opts.sub_type === 'yes') {\r\n                                        if (!$t.is('.sfm-submenu-visible')) {\r\n                                            console.log('sub', $sub);\r\n                                            customBg = $t.attr('data-bg');\r\n                                            $t.siblings().filter('.sfm-submenu-visible').removeClass('sfm-submenu-visible').find('> ul').slideUp()\r\n\r\n                                            $custom.addClass('sfm-modal');\r\n                                            css = {\r\n                                                'opacity': 1,\r\n                                                'visibility': 'visible',\r\n                                                'backgroundColor': customBg,\r\n                                                'width': _ww\r\n                                            };\r\n                                            $custom.find('.sfm-active').removeClass('sfm-active');\r\n                                            $custom.find('#sfm-cc-' + $t.attr('data-sfm-id')).addClass('sfm-active')\r\n                                            $custom.css(css);\r\n                                            cancel = true;\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n\r\n                        } else {\r\n\r\n                            if (MAX_WIDTH < _ww + 200) {\r\n                                //console.log('siblings', $t.siblings('.sfm-active-item').length)\r\n                                $t.siblings('.sfm-active-item').removeClass('sfm-active-item');\r\n\r\n                                animTimer = setTimeout(function () {\r\n                                    $body.removeClass('sfm-view-pushed-custom sfm-view-pushed-' + level + ' sfm-view-visible-' + level + ' sfm-view-pushed-' + (level + 1) + ' sfm-view-visible-' + (level + 1) + ' sfm-view-pushed-' + (level + 2) + ' sfm-view-visible-' + (level + 2));\r\n                                }, 50);\r\n                            }\r\n\r\n                        }\r\n\r\n                        var ev = isIE9 ? 'mouseenter' : clickTapEvent;\r\n\r\n\r\n                        if ($a.length && e.type === ev && !cancel && !isIE9) {\r\n                            hr = $a.prop('href');\r\n                            blank = $a.attr('target') === '_blank';\r\n                            hash = $a.prop('hash');\r\n                            smooth = hash && hash.length > 1 && hr == lh + hash, scrollTop;\r\n\r\n                            if (smooth) {\r\n                                hideSidebar();\r\n                                $t.addClass('sfm-active-item');\r\n                                scrollTop = $a.prop('hash') === '#' ? 0 : $($a.prop('hash')).offset().top;\r\n                                $('html, body').stop().animate({\r\n                                    scrollTop: scrollTop\r\n                                }, 600);\r\n                            }\r\n                            else if (blank) {\r\n                                window.open(hr, '_blank');\r\n                            } else {\r\n                                // todo\r\n                                //$body.fadeOut(200,function(){location.href = hr});\r\n                                location.href = hr\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    function setupSize(e) {\r\n                        wh = window.innerHeight ? window.innerHeight : $win.height();\r\n                        ww = window.innerWidth ? window.innerWidth : $win.width();\r\n                        var init = !setupSize.cache;\r\n\r\n                        if (init) {\r\n                            $sidebar.addClass('sfm-compact')\r\n                        }\r\n\r\n                        var margin = parseInt(opts.item_padding) * 2;\r\n\r\n                        setupSize.cache = setupSize.cache || {\r\n                                headerHeight: $head.is(':empty') ? 0 : $head.outerHeight() + 70 + margin,\r\n                                footerHeight: ($socialbar.is(':empty') ? 0 : $socialbar.outerHeight()) + $sidebar.find('.sfm-copy').outerHeight(),\r\n                                contentHeight: $cont.outerHeight()\r\n                            };\r\n\r\n                        if (init) {\r\n                            $sidebar.removeClass('sfm-compact')\r\n                        }\r\n                        var contentHeight = setupSize.cache.contentHeight;\r\n                        var headerHeight = setupSize.cache.headerHeight;\r\n                        var footerHeight = setupSize.cache.footerHeight;\r\n                        var availableSpace = ( wh - contentHeight );\r\n                        var footerSpace;\r\n                        var classesToAdd = '';\r\n                        var classesToRemove = '';\r\n                        var compactHeader = false;\r\n                        console.log('availableSpace', wh, contentHeight , availableSpace)\r\n                        if (availableSpace < (headerHeight + footerHeight + margin) || isMobile || opts.sub_type === 'yes') {\r\n                            if (opts.sidebar_style !== 'full') {\r\n                                classesToAdd = 'sfm-compact';\r\n                                if ( availableSpace / 2 < headerHeight) {\r\n                                    classesToAdd += ' sfm-compact-header';\r\n                                    compactHeader = true;\r\n                                    if (availableSpace / 2 > footerHeight) {\r\n                                        classesToRemove += 'sfm-compact-footer';\r\n                                    }\r\n                                }\r\n                                if (compactHeader) {\r\n                                    footerSpace = wh - (headerHeight + 100 + margin + contentHeight)\r\n                                    if ( footerSpace < footerHeight) {\r\n                                        classesToAdd += ' sfm-compact-footer'\r\n                                        if ( availableSpace / 2 > headerHeight) {\r\n                                            classesToRemove += 'sfm-compact-header';\r\n                                            compactHeader = false;\r\n                                        }\r\n                                    }\r\n                                } else {\r\n                                    if ( availableSpace / 2 < footerHeight) {\r\n                                        classesToAdd += ' sfm-compact-footer'\r\n                                        if ( availableSpace / 2 > headerHeight) {\r\n                                            classesToRemove += 'sfm-compact-header';\r\n                                            compactHeader = false;\r\n                                        }\r\n                                    }\r\n                                }\r\n                                console.log('classesToAdd: ' + classesToAdd)\r\n                                console.log('classesToRemove: ' + classesToRemove)\r\n                                //classesToAdd = 'sfm-compact sfm-compact-header sfm-compact-footer';\r\n                            }\r\n                        } else {\r\n                            classesToRemove = 'sfm-compact sfm-compact-header sfm-compact-footer';\r\n                        }\r\n\r\n                        if (MAX_WIDTH > ww || isMobile || opts.sub_type === 'yes' || opts.sidebar_style === 'full') {\r\n                            classesToAdd += ' sfm-vertical-nav';\r\n                            currentEvent = clickTapEvent;\r\n                        } else {\r\n                            classesToRemove += ' sfm-vertical-nav';\r\n                            currentEvent = 'mouseenter';\r\n                        }\r\n\r\n                        if (navigator.appVersion.indexOf(\"Mac\") != -1) {\r\n                            classesToAdd += ' sfm-mac';\r\n                        }\r\n\r\n                        if (classesToRemove && !init) $sidebar.removeClass(classesToRemove);\r\n                        if (classesToAdd) $sidebar.addClass(classesToAdd);\r\n\r\n                        opts.sidebar_style === 'full' && setupFont(wh);\r\n                    }\r\n\r\n                    function setupSize2(e) {\r\n                        wh = window.innerHeight ? window.innerHeight : $win.height();\r\n                        ww = window.innerWidth ? window.innerWidth : $win.width();\r\n                        var init = !setupSize.cache;\r\n\r\n                        if (init) {\r\n                            $sidebar.addClass('sfm-compact')\r\n                        }\r\n\r\n                        var margin = parseInt(opts.item_padding) * 2;\r\n\r\n                        setupSize.cache = setupSize.cache || {\r\n                                headerHeight: $head.is(':empty') ? 0 : $head.outerHeight() + 70 + margin,\r\n                                footerHeight: ($socialbar.is(':empty') ? 0 : $socialbar.outerHeight()) + $sidebar.find('.sfm-copy').outerHeight(),\r\n                                contentHeight: $cont.outerHeight()\r\n                            };\r\n\r\n                        if (init) {\r\n                            $sidebar.removeClass('sfm-compact')\r\n                        }\r\n                        var contentHeight = setupSize.cache.contentHeight;\r\n                        var headerHeight = setupSize.cache.headerHeight;\r\n                        var footerHeight = setupSize.cache.footerHeight;\r\n                        var availableSpace = ( wh - contentHeight );\r\n                        var footerSpace;\r\n                        var classesToAdd = '';\r\n                        var classesToRemove = '';\r\n                        var compactHeader = false;\r\n                        console.log('availableSpace', wh, contentHeight , availableSpace)\r\n                        if (availableSpace < (headerHeight + footerHeight + margin) || isMobile || opts.sub_type === 'yes') {\r\n                            if (opts.sidebar_style !== 'full') {\r\n                                classesToAdd = 'sfm-compact';\r\n                                if ( availableSpace / 2 < headerHeight) {\r\n                                    classesToAdd += ' sfm-compact-header';\r\n                                    compactHeader = true;\r\n                                    if (availableSpace / 2 > footerHeight) {\r\n                                        classesToRemove = 'sfm-compact-footer';\r\n                                    }\r\n                                }\r\n                                if (compactHeader) {\r\n                                    footerSpace = wh - ($head.outerHeight() + 100 + margin + contentHeight)\r\n                                    if ( footerSpace < footerHeight) {\r\n                                        classesToAdd += ' sfm-compact-footer'\r\n                                        if ( availableSpace / 2 > headerHeight) {\r\n                                            classesToRemove = 'sfm-compact-header';\r\n                                            compactHeader = false;\r\n                                        }\r\n                                    }\r\n                                } else {\r\n                                    if ( availableSpace / 2 < footerHeight) {\r\n                                        classesToAdd += ' sfm-compact-footer'\r\n                                        if ( availableSpace / 2 > headerHeight) {\r\n                                            classesToRemove = 'sfm-compact-header';\r\n                                            compactHeader = false;\r\n                                        }\r\n                                    }\r\n                                }\r\n\r\n                                //classesToAdd = 'sfm-compact sfm-compact-header sfm-compact-footer';\r\n                            }\r\n                        } else {\r\n                            classesToRemove = 'sfm-compact sfm-compact-header sfm-compact-footer';\r\n                        }\r\n\r\n                        if (MAX_WIDTH > ww || isMobile || opts.sub_type === 'yes' || opts.sidebar_style === 'full') {\r\n                            classesToAdd += ' sfm-vertical-nav';\r\n                            currentEvent = clickTapEvent;\r\n                        } else {\r\n                            classesToRemove += ' sfm-vertical-nav';\r\n                            currentEvent = 'mouseenter';\r\n                        }\r\n\r\n                        if (navigator.appVersion.indexOf(\"Mac\") != -1) {\r\n                            classesToAdd += ' sfm-mac';\r\n                        }\r\n\r\n                        if (classesToAdd) $sidebar.addClass(classesToAdd);\r\n                        if (classesToRemove && !init) $sidebar.removeClass(classesToRemove);\r\n                        opts.sidebar_style === 'full' && setupFont(wh);\r\n                    }\r\n\r\n                    function shiftFixed(i, el, scrollTop, scrollLeft, bh, wh) {\r\n\r\n                        var $t = $(el);\r\n                        var $offsetP;\r\n                        var t;\r\n                        var nu;\r\n                        var offset;\r\n                        var oLeft;\r\n                        var oTop;\r\n                        var coords;\r\n                        var newCSS;\r\n                        var _b;\r\n                        var transf;\r\n\r\n                        if ($t.css('position') === 'fixed') {\r\n\r\n                            $t.addClass('sfm-inner-fixed');\r\n\r\n                            if (isIE) {\r\n\r\n                                t = $t.css(transProp);\r\n\r\n                                if (t !== 'none') {\r\n                                    $t.data('sfm-old-matrix', t);\r\n                                    t = _T.fromString(t);\r\n                                    nu = t.x(translation); // add translation\r\n                                    $t.css(transProp, _T.toString(nu)).data('sfm-transformed', 1);\r\n                                } else {\r\n                                    $t.css(transProp, _T.toString(translation)/*, transition: trans + 'transform 0.5s cubic-bezier(0.645, 0.045, 0.355, 1)', transitionDelay: '90ms'*/).data('sfm-transformed', 1);\r\n                                }\r\n\r\n                            } else {\r\n\r\n                                $offsetP = $t;\r\n\r\n                                while ($offsetP = $offsetP.parent()) {\r\n                                    transf = $offsetP.css('webkitTransform');\r\n                                    if ((transf && transf !== 'none') || $offsetP.is('body')) {\r\n                                        break\r\n                                    }\r\n                                }\r\n\r\n                                //console.log('offset parent' , $offsetP[0])\r\n\r\n                                offset = $offsetP.offset();\r\n                                oLeft = offset.left;\r\n                                oTop = offset.top;\r\n                                //if (oTop === htmlMargins.top) oTop = 0;\r\n\r\n                                if (isFF && $t.is(':visible')) {\r\n                                    $t.hide().data('sfm-ff-hidden', 1);\r\n                                }\r\n\r\n                                coords = {\r\n                                    left: $t.css('left'),\r\n                                    right: $t.css('right'),\r\n                                    top: $t.css('top'),\r\n                                    bottom: $t.css('bottom')\r\n                                }\r\n\r\n                                if (isFF && $t.data('sfm-ff-hidden')) $t.show();\r\n\r\n                                newCSS = {};\r\n                                _b = parseInt(coords.bottom);\r\n                                _b = isNaN(_b) ? 0 : _b;\r\n\r\n                                if (coords.left !== 'auto') {\r\n                                    coords.toChangeHor = 'left';\r\n                                    newCSS[coords.toChangeHor] = '-=' + (oLeft - scrollLeft);\r\n                                } else if (coords.right !== 'auto') {\r\n                                    coords.toChangeHor = 'right';\r\n                                    newCSS[coords.toChangeHor] = '-=' + (oLeft - scrollLeft);\r\n                                } else {\r\n                                    coords.toChangeHor = 'left'\r\n                                }\r\n\r\n                                if (coords.top !== 'auto') {\r\n                                    coords.toChangeVert = 'top';\r\n                                    newCSS[coords.toChangeVert] = oTop - scrollTop > 0 ? parseInt(coords.top) - (oTop - scrollTop) : parseInt(coords.top) + (scrollTop - oTop);\r\n                                } else if (coords.bottom !== 'auto') {\r\n                                    coords.toChangeVert = 'bottom';\r\n                                    newCSS[coords.toChangeVert] = $body.height() + htmlMargins.top + htmlMargins.bottom + _b - $win.height() - scrollTop + 'px';\r\n                                } else {\r\n                                    coords.toChangeVert = 'top';\r\n                                    newCSS[coords.toChangeVert] = scrollTop;\r\n                                }\r\n\r\n                                //\t\t\t\t\t\t\tconsole.log('transf', transProp);\r\n                                //\t\t\t\t\t\t\tconsole.log('el', el);\r\n                                //\t\t\t\t\t\t\tconsole.log('parent', $offsetP[0]);\r\n                                //\t\t\t\t\t\t\tconsole.log('coords', coords);\r\n                                //\t\t\t\t\t\t\tconsole.log('newCSS', newCSS);\r\n                                //\t\t\t\t\t\t\tconsole.log('offsetTop', oTop);\r\n                                //\t\t\t\t\t\t\tconsole.log(scrollTop, scrollLeft);\r\n\r\n                                $t.css(newCSS).data('sfm-old-pos', coords)\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    function unshiftFixed(i, el) {\r\n                        var $el = $(el);\r\n                        var coords;\r\n                        var newCss;\r\n                        if (isIE) {\r\n                            if ($el.data('sfm-old-matrix')) {\r\n                                $el.css(transProp, $el.data('sfm-old-matrix')).data('sfm-old-matrix', '');\r\n                            } else {\r\n                                $el.css(transProp, defTranslationStr).data('sfm-transformed', '');\r\n                            }\r\n                        } else {\r\n                            coords = $el.data('sfm-old-pos');\r\n                            //console.log('coords', coords);\r\n                            newCss = {};\r\n                            if (coords) {\r\n                                newCss[coords.toChangeHor] = coords[coords.toChangeHor];\r\n                                newCss[coords.toChangeVert] = coords[coords.toChangeVert];\r\n                                if (coords.toChangeVert === 'bottom') newCss['top'] = '';\r\n                                $el.css(newCss);\r\n                                $el.data('sfm-old-pos', '');\r\n                            } else {\r\n                                $el.css({left: '', top: '', bottom: '', right: ''})\r\n                            }\r\n                        }\r\n                    }\r\n\r\n\r\n                    function populateSocialBarWith(social) {\r\n                        var name;\r\n                        for (name in social) {\r\n                            if (social.hasOwnProperty(name)) {\r\n                                if (name === 'skype') {\r\n                                    $('<li class=\"sfm-icon-' + name + '\"><a href=\"skype:' + social[name] + '?call\"></a></li>').appendTo($socialbar);\r\n                                } else if (name === 'email') {\r\n                                    $('<li class=\"sfm-icon-' + name + '\"><a href=\"mailto:' + social[name] + '\"></a></li>').appendTo($socialbar);\r\n                                } else {\r\n                                    $('<li class=\"sfm-icon-' + name + '\"><a href=\"' + social[name] + '\" target=\"_blank\"></a></li>').appendTo($socialbar);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    function attachSwipesHandler() {\r\n                        var startX, startY, startTime, moveX, moveY;\r\n                        $sidebar.add($overlay).bind('touchstart', function (e) {\r\n                            if (state === 'open') {\r\n                                startTime = (new Date).getTime();\r\n                                startX = e.originalEvent.touches[0].pageX;\r\n                                startY = e.originalEvent.touches[0].clientY;\r\n                            }\r\n                        })\r\n                            .bind('touchmove', function (e) {\r\n                                if (state === 'open') {\r\n                                    moveX = e.originalEvent.touches[0].pageX;\r\n                                    moveY = e.originalEvent.touches[0].clientY\r\n                                }\r\n                            })\r\n                            .bind('touchend', function () {\r\n                                if (state === 'open') {\r\n                                    var swipeDirection = moveX > startX ? \"right\" : \"left\";\r\n                                    var finalY = moveY - startY > 30 || -30 > moveY - startY;\r\n                                    var finalX = moveX - startX > 60 || -60 > moveX - startX;\r\n                                    var now = (new Date).getTime();\r\n                                    if (!(now - startTime > 200 || finalY) && finalX) {\r\n                                        switch (swipeDirection) {\r\n                                            case \"left\":\r\n                                                \"left\" === direction ? hideSidebar() : showSidebar();\r\n                                                break;\r\n                                            case \"right\":\r\n                                                \"left\" === direction ? showSidebar() : hideSidebar()\r\n                                        }\r\n                                    }\r\n                                }\r\n                            });\r\n                    }\r\n\r\n                    function freezeBodyScroll(e) {\r\n                        var scrollTo = null;\r\n\r\n                        if (e.type == 'mousewheel') {\r\n                            scrollTo = (e.originalEvent.wheelDelta * -1);\r\n                        }\r\n                        else if (e.type == 'DOMMouseScroll') {\r\n                            scrollTo = 40 * e.originalEvent.detail;\r\n                        }\r\n\r\n                        if (scrollTo) {\r\n                            e.preventDefault();\r\n                            $(this).scrollTop(scrollTo + $(this).scrollTop());\r\n                        }\r\n                    }\r\n\r\n                    function freezeBody(e) {\r\n                        if (e.type == 'mousewheel' || e.type == 'DOMMouseScroll') {\r\n                            e.preventDefault()\r\n                        }\r\n                    }\r\n\r\n                    function checkOrientation() {\r\n                        var o = window.orientation;\r\n                        if (o) {\r\n                            if (o != 90 && o != -90) {\r\n                                return 'portrait';\r\n                            } else {\r\n                                return 'landscape';\r\n                            }\r\n                        } else {\r\n                            if ($win.height() > $win.width()) {\r\n                                return 'portrait';\r\n                            } else {\r\n                                return 'landscape';\r\n                            }\r\n                        }\r\n                    }\r\n\r\n\r\n                    return {\r\n                        init: init,\r\n                        showSidebar: showSidebar,\r\n                        hideSidebar: hideSidebar,\r\n                        getState: function () {\r\n                            return state\r\n                        }\r\n                    }\r\n                }());\r\n\r\n            window.LM = LM.init();\r\n\r\n\r\n        }, 0);\r\n\r\n    });\r\n\r\n    if (window.SFM_EVENT_DISPATCHED) $(document).trigger('sfm_doc_body_arrived');\r\n\r\n    function attachStyles(t) {\r\n        if (document.body) {\r\n            var s = document.createElement('style');\r\n            s.type = 'text/css';\r\n            if (/WebKit|MSIE/i.test(navigator.userAgent)) {\r\n                if (s.styleSheet) {\r\n                    s.styleSheet.cssText = t;\r\n                } else {\r\n                    s.innerText = t;\r\n                }\r\n            } else {\r\n                s.innerHTML = t;\r\n            }\r\n            document.getElementsByTagName('head')[0].appendChild(s);\r\n        } else {\r\n            document.write('<style type=\"text/css\">' + t + '</style>');\r\n        }\r\n    }\r\n\r\n    function getVendorPropertyName(prop) {\r\n\r\n        var prefixes = ['Moz', 'Webkit', 'O', 'ms'],\r\n            vendorProp, i,\r\n            div = document.createElement('div'),\r\n            prop_ = prop.charAt(0).toUpperCase() + prop.substr(1);\r\n\r\n        if (prop in div.style) {\r\n            return prop;\r\n        }\r\n\r\n        for (i = 0; i < prefixes.length; ++i) {\r\n\r\n            vendorProp = prefixes[i] + prop_;\r\n\r\n            if (vendorProp in div.style) {\r\n                return vendorProp;\r\n            }\r\n\r\n        }\r\n\r\n        // Avoid memory leak in IE.\r\n        this.div = null;\r\n    };\r\n\r\n    function deparam(query) {\r\n        var pairs, i, keyValuePair, key, value, map = {};\r\n        // remove leading question mark if its there\r\n        if (query.slice(0, 1) === '?') {\r\n            query = query.slice(1);\r\n        }\r\n        if (query !== '') {\r\n            pairs = query.split('&');\r\n            for (i = 0; i < pairs.length; i += 1) {\r\n                keyValuePair = pairs[i].split('=');\r\n                key = decodeURIComponent(keyValuePair[0]);\r\n                value = (keyValuePair.length > 1) ? decodeURIComponent(keyValuePair[1]) : undefined;\r\n                map[key] = value;\r\n            }\r\n        }\r\n        return map;\r\n    }\r\n\r\n\r\n})(window.jQuery);"]}