/*!
 * @package Restrict User Access
 * @author Joachim Jensen <jv@intox.dk>
 * @license GPLv3
 * @copyright 2018 by Joachim Jensen
 */
!function($){"use strict";var e={init:function(){this.suggestLevels(),this.lazyInitsuggestLevels()},suggestLevels:function(){$(".js-rua-levels").each(function(){e.createDropdown($(this))})},lazyInitsuggestLevels:function(){$("#menu-to-edit").on("click",".item-edit",function(t){var n=$(this).closest(".menu-item");if(n.hasClass("menu-item-edit-inactive")){var a=n.find(".js-rua-levels");a.data("select2")||e.createDropdown(a)}})},createDropdown:function(e){e.select2({theme:"wpca",placeholder:RUA.search,minimumInputLength:0,closeOnSelect:!0,allowClear:!1,data:RUA.levels}).on("select2:selecting",function(t){e.data("forceOpen",!0)}).on("select2:close",function(t){e.data("forceOpen")&&(t.preventDefault(),e.select2("open"),e.data("forceOpen",!1))}),e.data("value")&&e.val(e.data("value").toString().split(",")).trigger("change")}};$(document).ready(function(){e.init()})}(jQuery);